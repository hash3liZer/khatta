<!DOCTYPE html>
<html lang="zh">
  <head prefix="og: https://ogp.me/ns#">
    <meta charset="utf-8" />
    <meta name="generator" content="gh:importantimport/urara" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" crossorigin="use-credentials" href="/manifest.webmanifest" />
    <link rel="alternate" type="application/feed+json" href="/feed.json" />
    <link rel="alternate" type="application/atom+xml" href="/atom.xml" />
    <link rel="sitemap" type="application/xml" href="/sitemap.xml" />
    <meta http-equiv="content-security-policy" content="style-src 'self' 'unsafe-inline' https://giscus.app">
		<link href="../../../_app/immutable/assets/0.930567dc.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../_app/immutable/entry/start.fa44d9bc.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.725d15e1.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/singletons.afb46ee5.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.f6403797.js">
		<link rel="modulepreload" href="../../../_app/immutable/entry/app.10ceab29.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/preload-helper.41c905a7.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/0.894db423.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/posts.7eeb28a4.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/posts.d89605eb.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/icon.1397619a.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/title.ff9679dd.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/5.8845f72e.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/post_layout.3f601db0.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/post_card.9f5ecec3.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/footer.b5e02579.js"><title>Deploy a Django Application on Ubuntu 22.04 with Gunicorn &amp; NGINX | ./khatta.sh | کھاتا</title><!-- HEAD_svelte-1592q3p_START --><link rel="me" href="https://kongwoo.icu/@seviche"><!-- HEAD_svelte-1592q3p_END --><!-- HEAD_svelte-1kxdj3d_START --><link rel="shortcut icon" href="https://blog.shameerkashif.me/favicon.png" sizes="48x48" type="image/png"><link rel="apple-touch-icon" href="https://blog.shameerkashif.me/assets/any@180.png" sizes="180x180" type="image/png"><link rel="icon" href="https://blog.shameerkashif.me/assets/any@192.png" sizes="192x192" type="image/png"><!-- HEAD_svelte-1kxdj3d_END --><!-- HEAD_svelte-1g590ms_START --><meta name="theme-color"><!-- HEAD_svelte-1g590ms_END --><!-- HEAD_svelte-abrfj_START --><meta name="author" content="@hash3liZer"><link rel="canonical" href="https://blog.shameerkashif.me/blog/2023/deploy-django-website-nginx-gunicorn-ubuntu-22">
    
    <meta name="keywords" content="django, deployment, development, drf, python, ubuntu">
    <meta name="description" content="A Detailed walkthrough of the process of deploying a django application on a ubuntu server from scratch. This guide covers the deployment stages with Gunicorn, NGINX and Postgresql."><!-- HTML_TAG_START --><link rel="me" href="https://github.com/hash3liZer" /><!-- HTML_TAG_END --><!-- HTML_TAG_START --><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZZRLH1SYB9"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag("js", new Date());gtag("config", "G-ZZRLH1SYB9");</script><!-- HTML_TAG_END --><!-- HEAD_svelte-abrfj_END --><!-- HEAD_svelte-4dky5b_START --><meta property="og:site_name" content="./khatta.sh | کھاتا"><meta property="og:locale" content="zh"><meta property="og:type" content="article">
    <meta property="og:title" content="Deploy a Django Application on Ubuntu 22.04 with Gunicorn &amp; NGINX">
    <meta property="og:description" content="A Detailed walkthrough of the process of deploying a django application on a ubuntu server from scratch. This guide covers the deployment stages with Gunicorn, NGINX and Postgresql.">
    <meta property="og:image" content="https://github.com/hash3liZer/khatta/assets/29171692/ed7dd92d-f7d1-4646-9194-e02102945392">
      <meta name="twitter:card" content="summary_large_image">
    <meta property="article:tag" content="django"><meta property="article:tag" content="deployment"><meta property="article:tag" content="development"><meta property="article:tag" content="drf"><meta property="article:tag" content="python"><meta property="article:tag" content="ubuntu">
    <meta property="og:url" content="https://blog.shameerkashif.me/blog/2023/deploy-django-website-nginx-gunicorn-ubuntu-22">
    <meta property="article:author" content="@hash3liZer">
    <meta property="article:published_time" content="2023-09-11T00:00:00.000Z">
    <meta property="article:modified_time" content="2024-09-14T21:03:45.278Z"><!-- HEAD_svelte-4dky5b_END -->
  </head>

  <body itemscope itemtype="https://schema.org/WebPage">
    










<header id="header" class="fixed z-50 w-screen transition-all duration-500 ease-in-out border-b-2 border-transparent max-h-[4.125rem] false"><div class="navbar"><div class="navbar-start">

<div class="dropdown lg:hidden"><label for="navbar-dropdown" tabindex="0" class="btn btn-square btn-ghost"><span class="i-heroicons-outline-menu-alt-1"></span></label>
  <ul id="navbar-dropdown" tabindex="0" class="menu menu-compact dropdown-content bg-base-100 text-base-content shadow-lg rounded-box min-w-max max-w-52 p-2"><li><a href="/resume">About Me</a>
        </li><li><a href="https://shameerkashif.me">Who@mi ➡️</a>
        </li></ul></div>
<div class="swap order-last hidden lg:inline-grid"><button class="swap-on btn btn-ghost text-base font-normal normal-case transition-all duration-200 hidden"></button>
  <ul class="swap-off menu menu-horizontal p-0"><li><a class="!rounded-btn" href="/resume">About Me</a>
        </li><li><a class="!rounded-btn" href="https://shameerkashif.me">Who@mi ➡️</a>
        </li></ul></div>
        <a href="/" class="btn btn-ghost normal-case text-lg">./khatta.sh | کھاتا</a></div>
      <div class="navbar-end"><button aria-label="search" tabindex="0" class="btn btn-square btn-ghost"><span class="i-heroicons-outline-search"></span></button>
        <div id="change-theme" class="dropdown dropdown-end">
          
          <div tabindex="0" class="btn btn-square btn-ghost"><span class="i-heroicons-outline-color-swatch"></span></div>
          
          
          <ul tabindex="0" class="flex flex-nowrap shadow-2xl menu dropdown-content bg-base-100 text-base-content rounded-box w-52 p-2 gap-2 overflow-y-auto max-h-[21.5rem]"><button data-theme="lofi" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Light</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="dracula" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Dracula</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="coffee" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Coffee</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="cupcake" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Cupcake</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="valentine" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Valentine</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="aqua" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Aqua</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="synthwave" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Synthwave</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="night" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Night</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="garden" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Garden</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="lemonade" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Lemonade</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="cmyk" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">CMYK</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="retro" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Retro</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button><button data-theme="black" class="btn btn-ghost w-full hover:bg-primary group rounded-lg flex bg-base-100 p-2 transition-all"><p class="flex-1 text-left text-base-content group-hover:text-primary-content transition-color">Black</p>
                <div class="flex-none m-auto flex gap-1"><div class="bg-primary w-2 h-4 rounded"></div>
                  <div class="bg-secondary w-2 h-4 rounded"></div>
                  <div class="bg-accent w-2 h-4 rounded"></div>
                  <div class="bg-neutral w-2 h-4 rounded"></div></div>
              </button></ul></div></div></div></header>

<button id="totop" aria-label="scroll to top" class="fixed grid group btn btn-circle btn-lg border-none backdrop-blur bottom-6 right-6 z-50 duration-500 ease-in-out btn-ghost bg-base-100/30 md:bg-base-200/30 translate-y-24"><div class="radial-progress text-accent transition-all duration-500 ease-in-out group-hover:text-accent-focus col-start-1 row-start-1" style="--size:4rem; --thickness: 0.25rem; --value:undefined;"></div>
  <div class="border-4 border-base-content/10 group-hover:border-transparent col-start-1 row-start-1 rounded-full w-full h-full p-4 grid duration-500 ease-in-out"><span class="i-heroicons-solid-chevron-up !w-6 !h-6"></span></div></button>

<div class="bg-base-100 md:bg-base-200 min-h-screen pt-16 md:pb-8 lg:pb-16">



<div class="flex flex-col flex-nowrap justify-center xl:flex-row xl:flex-wrap"><div class="flex-1 w-full order-first ease-out transform mx-auto xl:mr-0 xl:ml-0"></div>
  <div class="flex-1 w-full xl:order-last ease-out transform mx-auto xl:ml-0 xl:mr-0"></div>
  <div class="flex-none w-full max-w-screen-md mx-auto xl:mx-0"><article itemscope itemtype="https://schema.org/BlogPosting" itemprop="blogPost" class="h-entry card bg-base-100 rounded-none md:rounded-box md:shadow-lg md:shadow-grey-10 overflow-hidden z-10 md:mb-8 lg:mb-16"><div id="bridgy" class="hidden"><a href="https://brid.gy/publish/mastodon">mastodon</a></div>
  
  
  <div class="card-body gap-0 "><div class="flex flex-col gap-2"><figure class="md:order-last rounded-lg mb-4 flex-col gap-2 -mt-8 md:mt-0'
          }"><img src="https://github.com/hash3liZer/khatta/assets/29171692/ed7dd92d-f7d1-4646-9194-e02102945392" alt="https://github.com/hash3liZer/khatta/assets/29171692/ed7dd92d-f7d1-4646-9194-e02102945392" class="u-featured" loading="lazy" decoding="async"></figure>
      <div class="flex font-semibold gap-1.5"><a rel="author" class="opacity-75 hover:opacity-100 hover:text-primary duration-500 ease-in-out p-author h-card" href="https://blog.shameerkashif.me">@hash3liZer</a>
  <span class="opacity-50">/</span>
  <a href="/blog/2023/deploy-django-website-nginx-gunicorn-ubuntu-22" class="u-url u-uid swap group/time"><time class="group-hover/time:opacity-0 font-semibold opacity-75 duration-500 ease-in-out mr-auto dt-published" datetime="2023-09-11T00:00:00.000Z" itemprop="datePublished">Mon, Sep 11, 2023</time>
    <time class="opacity-0 group-hover/time:opacity-100 font-semibold text-primary duration-500 ease-in-out mr-auto dt-updated" datetime="2024-09-14T21:03:45.278Z" itemprop="dateModified">Sat, Sep 14, 2024</time></a></div>
      <h1 itemprop="name headline" class="card-title text-2xl mb-8 p-name">Deploy a Django Application on Ubuntu 22.04 with Gunicorn &amp; NGINX</h1>
      <p itemprop="description" class="p-summary mb-auto hidden">A Detailed walkthrough of the process of deploying a django application on a ubuntu server from scratch. This guide covers the deployment stages with Gunicorn, NGINX and Postgresql.</p></div>
    <main itemprop="articleBody" class="urara-prose prose e-content"><h2 id="introduction"><a href="#introduction">Introduction</a></h2>
<p>Hi, its been a while since i wrote something on my blog. Today, i am going to write about the process of deployment of a django application on a Ubuntu 22.02 live server. I’ll try to cover as much details as i can and mention about the common issues i normally faces while following the process. This article is also a kind of reminder for myself for the tutorials and blog that i followed and the issues i ran into. So, we are going to cover this deployment process through <strong>Gunicorn</strong>, <strong>NGINX</strong> and optionally using <strong>Postgresql</strong> database. </p>
<h2 id="tutorial"><a href="#tutorial">Tutorial</a></h2>
<p>So, without wasting any further time. Lets jump right into the details. </p>
<h3 id="pre-reqs"><a href="#pre-reqs">Pre-Reqs</a></h3>
<p>The foremost thing are the pre-reqs that we need to follow this tutorial. First is a server with a public IP. Many of you who are reading this might already have one before moving one. Well, if you don’t you can simply get one from any of the hosting services or Cloud platforms. Personally, i use <strong>DigitalOcean</strong> or <strong>AWS</strong> most of the time. And also, for the sake of this tutorial i’ll be using a <code>t2.micro</code> instance of EC2 service from AWS. </p>
<p>But in general what you need is an online server with <strong>Ubuntu 22.04</strong> installed and with publicly accessibly ports. Thi should also work just fine with Ubuntu 20.04. Let me know in comments if someone tests it. </p>
<h3 id="installing-packages"><a href="#installing-packages">Installing Packages</a></h3>
<p>First, lets update our <strong>ubuntu</strong> machine and install the required packages: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">sudo apt update</span></div><div class='line'><span style="color: #EEFFFF">sudo apt install -y nginx python3 python3-dev python3-pip python3-virtualenv libpq-dev postgresql postgresql-contrib</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/5796e18f-36ee-4cb5-bd9c-7a8398627981" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<p>Before going forward, lets escalate to the <code>root</code> shell as we might run into the permission issues again and again. And don’t worry, we will see the project and permissions of the other files at the last: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">sudo -s</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/be2a19b9-c46a-4a72-b70f-dbb0446dd33c" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<h3 id="setting-up-project-directory"><a href="#setting-up-project-directory">Setting up Project Directory</a></h3>
<p>Now, lets move to the <code>/var/www/</code> directory where we are going to place our project folder. I am going to setup a project from scratch for demo purposes using <code>django-admin</code> command. But if you already have one, make sure its uploaded correctly. I normally used <code>rsync</code> for this: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">rsync -arvz -e </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">ssh -p &lt;port-number&gt;</span><span style="color: #89DDFF">'</span><span style="color: #EEFFFF"> --progress --delete /path/to/local/folder user@remote-server:/var/www/</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>For now, i will setup a new project from scratch and name it <code>myweb</code>. Lets install django and initialize an empty project: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #82AAFF">cd</span><span style="color: #EEFFFF"> /var/www</span></div><div class='line'><span style="color: #EEFFFF">pip3 install django</span></div><div class='line'><span style="color: #EEFFFF">django-admin startproject myweb</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>Move to <code>myweb</code> and initialize new <em>virtual environment</em>: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #82AAFF">cd</span><span style="color: #EEFFFF"> myweb/</span></div><div class='line'><span style="color: #EEFFFF">virtualenv venv</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>Moving forward, activate the virtual environment and install all the necessary packages that you might have placed in <code>requirements.txt</code>. </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #82AAFF">source</span><span style="color: #EEFFFF"> ./venv/bin/activate</span></div><div class='line'><span style="color: #EEFFFF">pip3 install -r requirements.txt     </span><span style="color: #546E7A"># In case you have one</span></div><div class='line'><span style="color: #EEFFFF">pip3 install django gunicorn psycopg2-binary</span></div></code></div></pre><!-- HTML_TAG_END -->
<h3 id="setting-up-postgres-database"><a href="#setting-up-postgres-database">Setting up Postgres (Database)</a></h3>
<p>You could move forward without this step if you are planning on using some other database or the default sqlite. But please note that you will have to install the relevant packages for that. While in this case, i am only focusing on <code>postgres</code>. </p>
<p>Launch <code>postgres</code>: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">sudo -u postgres psql</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>The next steps are supposed to be inside the <code>postgres</code> terminal. Create a new database. I am naming it <code>hashbase</code>. Setup a new user and assign it to the database that we just created: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">CREATE DATABASE hashbase;</span></div><div class='line'><span style="color: undefined">CREATE USER hashbaseuser WITH PASSWORD 'password1122';</span></div><div class='line'><span style="color: undefined">GRANT ALL PRIVILEGES ON DATABASE hashbase TO hashbaseuser;</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>Next, we will modify a couple of our database settings for better processing and django functions: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">ALTER ROLE hashbaseuser SET client_encoding TO </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">utf8</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #EEFFFF">ALTER ROLE hashbaseuser SET default_transaction_isolation TO </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">read committed</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #EEFFFF">ALTER ROLE hashbaseuser SET timezone TO </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">UTC</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">;</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>Quit:</p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">q</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/a450e21a-dfbe-4122-986f-8b5dc9e5c284" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<h3 id="project-settings"><a href="#project-settings">Project Settings</a></h3>
<p>We will look at the project settings now that needs to be replaced or modified. Considering we are in the project directory located at <code>/var/www/myweb</code>. Lets edit the <code>settings.py</code> file: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">nano myweb/settings.py</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/3f6ad510-3443-4499-90ba-2ef8098d0989" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<p>Edit the <code>ALLOWED_HOSTS</code> list variable to include all the <strong>IPs</strong> or <strong>Hostnames</strong> that you plan on using for the website. In here, i am simply going to put the <strong>PUBLIC IP</strong> of the server i am on. You can put domain names if you are going to configure one with the website. </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" python="true"><div class="language-id">python</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">...</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">ALLOWED_HOSTS </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">[</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">13.229.230.156</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF">      </span><span style="color: #546E7A"># Public IP of the Server</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">mydomain.com</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span><span style="color: #EEFFFF">        </span><span style="color: #546E7A"># In case you have a domain, you can skip the IP Address</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">someotherhostetc</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #89DDFF">]</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">...</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>Now, move a bit below to this and find the <code>DATABASES</code> variable section. By default it is configured to use <code>sqlite3</code> as its database. We will change the settings to use <code>postgresql</code>: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" python="true"><div class="language-id">python</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">...</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">DATABASES </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">default</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">        </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">ENGINE</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">django.db.backends.postgresql_psycopg2</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">NAME</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">hashbase</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">USER</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">hashbaseuser</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">PASSWORD</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">password1122</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">HOST</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">localhost</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">        </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">PORT</span><span style="color: #89DDFF">'</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">''</span><span style="color: #89DDFF">,</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #89DDFF">&#125;</span></div><div class='line'><span style="color: #89DDFF">&#125;</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">...</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>After this, we need to setup a <code>static</code> and <code>media</code> directory where our project static files are going to be stored. The <code>media</code> folder will contain files that are supposed to be uploaded by the user of the application. So, again in the <code>settings.py</code> file, move at the end of the file and find the line <code>STATIC_URL = &#39;static/&#39;</code> and add some new content below it: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" python="true"><div class="language-id">python</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">...</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">STATIC_URL </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">static/</span><span style="color: #89DDFF">'</span></div><div class='line'><span style="color: #EEFFFF">STATIC_ROOT </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> BASE_DIR </span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">public</span><span style="color: #89DDFF">'</span></div><div class='line'><span style="color: #EEFFFF">MEDIA_URL  </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">media/</span><span style="color: #89DDFF">'</span></div><div class='line'><span style="color: #EEFFFF">MEDIA_ROOT </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> BASE_DIR </span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">'</span><span style="color: #C3E88D">media</span><span style="color: #89DDFF">'</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">...</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>The <code>STATIC_ROOT</code> defines the folder where the public content like <em>css,js or imgs</em> are going to be stored upon running the <code>collectstatic</code> command on <code>manage.py</code> file. Please note that its totally different from the <code>STATICFILES_DIRS</code> variable which is used to define the directories to locate static files. Think of <code>STATIC_ROOT</code> as more of a <strong>production</strong> specific variable. </p>
<h3 id="spin-up-the-project"><a href="#spin-up-the-project">Spin up the Project</a></h3>
<p>Lets move towards spinning up the project for the public. For that, we will do the normal django commands like migrations and super user. </p>
<p>Run migrations and create a superuser: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">python3 manage.py makemigrations</span></div><div class='line'><span style="color: undefined">python3 manage.py migrate</span></div><div class='line'><span style="color: undefined">python3 manage.py createsuperuser     # Enter your credentials for the superuser when prompted</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/bf41701c-c35d-448e-adbc-ff111a9ef7e6" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<p>After this, we will run the <code>collectstatic</code> command to locate all the static files we have in our project and put them to the folder that we defined at <code>STATIC_ROOT</code> variable. These static files will be served by the <code>nginx</code> server and not from django like we see during the development.</p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" python="true"><div class="language-id">python</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">python3 manage</span><span style="color: #89DDFF">.</span><span style="color: #F07178">py</span><span style="color: #EEFFFF"> collectstatic</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/a79e25e0-5960-4cd5-ab97-f359cc2de470" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<p>You can now execute the <code>runserver</code> command on public interface to see your website. Before also make sure nginx is not using the port <code>80</code> by default: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" python="true"><div class="language-id">python</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">service nginx stop</span></div><div class='line'><span style="color: #EEFFFF">python3 manage</span><span style="color: #89DDFF">.</span><span style="color: #F07178">py</span><span style="color: #EEFFFF"> runserver </span><span style="color: #F78C6C">0.0</span><span style="color: #89DDFF">.</span><span style="color: #F07178">0</span><span style="color: #89DDFF">.</span><span style="color: #F07178">0</span><span style="color: #89DDFF">:</span><span style="color: #F78C6C">80</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>Now, if you access your website at port <code>80</code> you would be able to see your project:</p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" python="true"><div class="language-id">python</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">http</span><span style="color: #89DDFF">://</span><span style="color: #EEFFFF">PUBLCI_IP_ADDRESS</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/f1bea206-f36f-4df3-8448-f5b2824587c1" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<p>Finally, back in the <code>settings.py</code> put the <code>DEBUG</code> value to <code>False</code>. You can keep it enabled if you are going to debug the project or facing some other issue. But make sure to put the value to <code>False</code> for the production cases:</p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">nano myweb/settings.py</span></div><div class='line'><span style="color: undefined"></span></div><div class='line'><span style="color: undefined">...</span></div><div class='line'><span style="color: undefined">DEBUG = False</span></div><div class='line'><span style="color: undefined">...</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>At this point, we have our project all ok. But this is not how we are going to host the website actually. </p>
<h3 id="setting-up-gunicorn"><a href="#setting-up-gunicorn">Setting up Gunicorn</a></h3>
<p>Gunicorn is the server service that we are going to configure with <code>nginx</code> for the public. We will configure a new <code>systemd</code> service for this. But before, we will test if <code>gunicorn</code> is really working or not. So, simply bind gunicorn to the <code>0.0.0.0</code> and test if we can access the website at port <code>80</code> like we did before. Note that we are still inside <code>/var/www/myweb</code> directory</p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">gunicorn --bind 0.0.0.0:80 myweb.wsgi</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/8c4e703d-fcf7-4658-b358-1addaa74f6fb" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<p>Fire up <code>nano</code> again for the gunicorn service and do the configuration: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">nano /etc/systemd/system/gunicorn.service</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>Inside the file. I’ll not get into much details of what is happening here. But you can refer to the <code>systemd</code> documentation for more in depth detail. However, we will review the <code>Service</code> section here:</p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" python="true"><div class="language-id">python</div><div class='code-container'><code><div class='line'><span style="color: #89DDFF">[</span><span style="color: #EEFFFF">Unit</span><span style="color: #89DDFF">]</span></div><div class='line'><span style="color: #EEFFFF">Description</span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF">gunicorn daemon</span></div><div class='line'><span style="color: #EEFFFF">After</span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF">network</span><span style="color: #89DDFF">.</span><span style="color: #F07178">target</span></div><div class='line'></div><div class='line'><span style="color: #89DDFF">[</span><span style="color: #EEFFFF">Service</span><span style="color: #89DDFF">]</span></div><div class='line'><span style="color: #EEFFFF">User</span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF">www</span><span style="color: #89DDFF">-</span><span style="color: #EEFFFF">data</span></div><div class='line'><span style="color: #EEFFFF">Group</span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF">www</span><span style="color: #89DDFF">-</span><span style="color: #EEFFFF">data</span></div><div class='line'><span style="color: #EEFFFF">WorkingDirectory</span><span style="color: #89DDFF">=/</span><span style="color: #EEFFFF">var</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">www</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">myweb</span></div><div class='line'><span style="color: #EEFFFF">ExecStart</span><span style="color: #89DDFF">=/</span><span style="color: #EEFFFF">var</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">www</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">myweb</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">venv</span><span style="color: #89DDFF">/</span><span style="color: #82AAFF">bin</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">gunicorn --access</span><span style="color: #89DDFF">-</span><span style="color: #EEFFFF">logfile </span><span style="color: #89DDFF">-</span><span style="color: #EEFFFF"> --workers </span><span style="color: #F78C6C">3</span><span style="color: #EEFFFF"> --timeout </span><span style="color: #F78C6C">300</span><span style="color: #EEFFFF"> --bind unix</span><span style="color: #89DDFF">:/</span><span style="color: #EEFFFF">var</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">www</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">myweb</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">myweb</span><span style="color: #89DDFF">.</span><span style="color: #F07178">sock</span><span style="color: #EEFFFF"> myweb</span><span style="color: #89DDFF">.</span><span style="color: #F07178">wsgi</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF">application</span></div><div class='line'></div><div class='line'><span style="color: #89DDFF">[</span><span style="color: #EEFFFF">Install</span><span style="color: #89DDFF">]</span></div><div class='line'><span style="color: #EEFFFF">WantedBy</span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF">multi</span><span style="color: #89DDFF">-</span><span style="color: #EEFFFF">user</span><span style="color: #89DDFF">.</span><span style="color: #F07178">target</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>The <code>User</code> and <code>Group</code> defines the privileges the command is going to be executed with. The complete command is specified with <code>ExecStart</code> variable. Make sure to specify <code>WorkingDirectory</code> as well. Otherwise, gunicorn wouldn’t be able to locate the <code>myweb.wsgi</code> on path. Save the file.</p>
<p>Make sure to change the project’s owner before starting gunicorn: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">chown www-data:www-data -R /var/www/myweb</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>Start the service after saving and make that its running and doesn’t have any errors. If there are errors, you will need to fix them before moving forward: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">systemctl daemon-reload</span></div><div class='line'><span style="color: #EEFFFF">systemctl restart gunicorn.service</span></div><div class='line'><span style="color: #EEFFFF">systemctl status gunicorn.service</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/4f2ca54a-e633-4593-86f1-a292d4e899e6" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<p>You can see more detailed logs of gunicorn if there are errors using: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">sudo journalctl -u gunicorn</span></div></code></div></pre><!-- HTML_TAG_END -->
<h3 id="setting-up-nginx"><a href="#setting-up-nginx">Setting UP NGINX</a></h3>
<p>This is the last step. We will configure <code>nginx</code> which in short is the public server and will take requests from the public and forward it to gunicorn as a reverse proxy. Remove the default enabled nginx website and create a new <code>nginx</code> project file:</p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">rm /etc/nginx/sites-enabled/default</span></div><div class='line'><span style="color: #EEFFFF">nano /etc/nginx/sites-available/myweb</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>Inside the file, configure your web server: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" nginx="true"><div class="language-id">nginx</div><div class='code-container'><code><div class='line'><span style="color: #C792EA">server</span><span style="color: #EEFFFF"> &#123;</span></div><div class='line'><span style="color: #EEFFFF">   </span><span style="color: #89DDFF"> listen </span><span style="color: #EEFFFF">80</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #EEFFFF">   </span><span style="color: #89DDFF"> server_name </span><span style="color: #EEFFFF">DOMAIN_OR_PUBLIC_IP</span><span style="color: #89DDFF">;</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #C792EA">location</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">=</span><span style="color: #EEFFFF"> </span><span style="color: #C3E88D">/favicon.ico </span><span style="color: #EEFFFF">&#123;</span><span style="color: #89DDFF"> access_log </span><span style="color: #EEFFFF">off</span><span style="color: #89DDFF">; log_not_found </span><span style="color: #EEFFFF">off</span><span style="color: #89DDFF">;</span><span style="color: #EEFFFF"> &#125;</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #C792EA">location</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">/static/ </span><span style="color: #EEFFFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">       </span><span style="color: #89DDFF"> alias </span><span style="color: #EEFFFF">/var/www/myweb/public/</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #EEFFFF">       </span><span style="color: #89DDFF"> add_header </span><span style="color: #EEFFFF">Strict-Transport-Security </span><span style="color: #C3E88D">"max-age=31536000; includeSubDomains"</span><span style="color: #EEFFFF"> always</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #EEFFFF">    &#125;</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #C792EA">location</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">/media/ </span><span style="color: #EEFFFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">       </span><span style="color: #89DDFF"> alias </span><span style="color: #EEFFFF">/var/www/myweb/media/</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #EEFFFF">    &#125;</span></div><div class='line'></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #C792EA">location</span><span style="color: #EEFFFF"> </span><span style="color: #FFCB6B">/ </span><span style="color: #EEFFFF">&#123;</span></div><div class='line'><span style="color: #EEFFFF">       </span><span style="color: #89DDFF"> include </span><span style="color: #EEFFFF">proxy_params</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #EEFFFF">       </span><span style="color: #89DDFF"> add_header </span><span style="color: #EEFFFF">Strict-Transport-Security </span><span style="color: #C3E88D">"max-age=31536000; includeSubDomains"</span><span style="color: #EEFFFF"> always</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #EEFFFF">       </span><span style="color: #89DDFF"> proxy_pass </span><span style="color: #EEFFFF">http://unix:/var/www/myweb/myweb.sock</span><span style="color: #89DDFF">;</span></div><div class='line'><span style="color: #EEFFFF">    &#125;</span></div><div class='line'><span style="color: #EEFFFF">&#125;</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>In the above configuration, make sure you have changed it according to your requirements. One thing to look out for is the <code>server_name</code> directive. If you are working with a domain name, make sure to replace it correctly. Another thing would be the paths that are mentioned in the configuration. Make sure all of the mentioned paths in your correct according to your settings. </p>
<p>Save the file and enable this nginx project by creating its soft link at <code>sites-enabled</code> directory: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" python="true"><div class="language-id">python</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">ln </span><span style="color: #89DDFF">-</span><span style="color: #EEFFFF">s </span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">etc</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">nginx</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">sites</span><span style="color: #89DDFF">-</span><span style="color: #EEFFFF">available</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">myweb </span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">etc</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">nginx</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">sites</span><span style="color: #89DDFF">-</span><span style="color: #EEFFFF">enabled</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">myweb</span></div></code></div></pre><!-- HTML_TAG_END -->
<p>Check nginx configuration and restart nginx: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF"><div class='code-container'><code><div class='line'><span style="color: undefined">nginx -t</span></div><div class='line'><span style="color: undefined">systemctl restart nginx</span></div><div class='line'><span style="color: undefined">systemctl status nginx</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/bbab172e-0279-4ac6-a274-1fa9181530da" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<p>If everything goes correctly, you should be able to see the nginx service running and if you visit the <strong>PUBLIC IP</strong> or <strong>Domain Name</strong> now, you will see your website. For the final test, visit the <code>/admin</code> page to make sure the static files are also served correctly from our nginx service: </p>
<!-- HTML_TAG_START --><pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" python="true"><div class="language-id">python</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">http</span><span style="color: #89DDFF">://</span><span style="color: #EEFFFF">PUBLIC_IP_ADDRESS_OR_DOMAIN</span><span style="color: #89DDFF">/</span><span style="color: #EEFFFF">admin</span></div></code></div></pre><!-- HTML_TAG_END -->
<p><img src="https://github.com/hash3liZer/khatta/assets/29171692/f3b0c7d0-3dff-40fd-b17f-4a22f280cc09" alt="image" class="rounded-lg my-2" loading="lazy" decoding="async"></p>
<p>In case your static are not served properly, you can check the <code>nginx</code> error logs at: <code>/var/log/nginx/error.log</code> and debug the issues. </p>
<h2 id="conclusion"><a href="#conclusion">Conclusion</a></h2>
<p>Thanks for making it through. All in all, we saw how to host a django website using gunicorn, nginx and postgresql. Its not very tricky but yes sometimes debugging the configuration files can take time. So, while doing your own, make sure to double check your configuration files and make sure that they are making sense for what they are supposed to do. </p></main>
    <div class="divider mt-4 mb-0"></div>
      <div><a href="/?tags=django" class="btn btn-sm btn-ghost normal-case mt-2 mr-2 p-category">#django
          </a><a href="/?tags=deployment" class="btn btn-sm btn-ghost normal-case mt-2 mr-2 p-category">#deployment
          </a><a href="/?tags=development" class="btn btn-sm btn-ghost normal-case mt-2 mr-2 p-category">#development
          </a><a href="/?tags=drf" class="btn btn-sm btn-ghost normal-case mt-2 mr-2 p-category">#drf
          </a><a href="/?tags=python" class="btn btn-sm btn-ghost normal-case mt-2 mr-2 p-category">#python
          </a><a href="/?tags=ubuntu" class="btn btn-sm btn-ghost normal-case mt-2 mr-2 p-category">#ubuntu
          </a></div></div>
  
    </article>
    <footer id="footer" class="footer footer-center bg-base-300 text-base-content shadow-inner p-8 md:rounded-box sticky bottom-0 z-0 md:static "><div class="prose"><p><a href="/atom.xml" rel="noopener noreferrer external" target="_blank">Feed</a>
          
        <br>
      Copyright © 2023 - 2024
      @hash3liZer
      <br>
      Powered by
      <a rel="noopener noreferrer external" target="_blank" class="tooltip tooltip-secondary hover:text-secondary" data-tip="🌸 [δ] - Based on MDsveX & SvelteKit 🌸" href="https://github.com/importantimport/urara">Urara
      </a>
      <br>
        <!-- HTML_TAG_START -->Hosted at <a href="https://github.com/hash3liZer/khatta">Khatta</a><!-- HTML_TAG_END --></p></div></footer></div></div></div>


			<script type="application/json" data-sveltekit-fetched data-url="/posts.json">{"status":200,"statusText":"","headers":{},"body":"[{\"title\":\"BlackhatMEA 2024 CTF Writeups for all web challenges (Qualifiers)\",\"tags\":[\"blackhatmea-2024\",\"qualifiers\"],\"categories\":[\"CTF\",\"Writeups\"],\"summary\":\"Writeups for all web related challenges from Blackhat MEA 2024 CTF\",\"created\":\"2024-09-04T00:00:00.000Z\",\"lastmod\":\"2023-09-04T00:00:00.000Z\",\"image\":\"https://github.com/user-attachments/assets/07220c38-8cb9-4961-b1c2-7020b0baa0ad\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.282Z\",\"slug\":\"/blog/2024/blackhat-mea-24-qualifiers-web-writeups/+page.md\",\"path\":\"/blog/2024/blackhat-mea-24-qualifiers-web-writeups\",\"toc\":[{\"depth\":2,\"title\":\"Watermelon\",\"slug\":\"watermelon\"},{\"depth\":2,\"title\":\"Free Flag\",\"slug\":\"free-flag\"},{\"depth\":2,\"title\":\"Notey\",\"slug\":\"notey\"},{\"depth\":2,\"title\":\"Fastest Delivery Service\",\"slug\":\"fastest-delivery-service\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"Setup Fake (Rogue) Access Point WiFi using HostAPD\",\"tags\":null,\"categories\":[\"wireless\",\"rogue-ap\"],\"summary\":\"A detailed guide on how to setup a rogue or fake access point wifi network using hostapdo\",\"created\":\"2024-08-25T00:00:00.000Z\",\"lastmod\":\"2023-08-25T00:00:00.000Z\",\"image\":\"https://github.com/user-attachments/assets/471e01a7-df63-414e-9370-6b8deafe6686\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.278Z\",\"slug\":\"/blog/2023/setup-fake-rogue-access-point-hostapd/+page.md\",\"path\":\"/blog/2023/setup-fake-rogue-access-point-hostapd\",\"toc\":[{\"depth\":2,\"title\":\"Technical Terms\",\"slug\":\"technical-terms\"},{\"depth\":3,\"title\":\"Phishing\",\"slug\":\"phishing\"},{\"depth\":3,\"title\":\"Wireless Adapter\",\"slug\":\"wireless-adapter\"},{\"depth\":3,\"title\":\"Is it Effective?\",\"slug\":\"is-it-effective\"},{\"depth\":2,\"title\":\"The Guide\",\"slug\":\"the-guide\"},{\"depth\":3,\"title\":\"Setup Environment\",\"slug\":\"setup-environment\"},{\"depth\":3,\"title\":\"Wireless Interface\",\"slug\":\"wireless-interface\"},{\"depth\":3,\"title\":\"Fake / Rogue Access Point\",\"slug\":\"fake--rogue-access-point\"},{\"depth\":3,\"title\":\"Multiple Access Points (Optional)\",\"slug\":\"multiple-access-points-optional\"},{\"depth\":3,\"title\":\"DHCP\",\"slug\":\"dhcp\"},{\"depth\":3,\"title\":\"Traffic Forwarding\",\"slug\":\"traffic-forwarding\"},{\"depth\":3,\"title\":\"MySQL Storage\",\"slug\":\"mysql-storage\"},{\"depth\":3,\"title\":\"Phishing Site\",\"slug\":\"phishing-site\"},{\"depth\":3,\"title\":\"Apache and MySQL\",\"slug\":\"apache-and-mysql\"},{\"depth\":3,\"title\":\"Deauthentication\",\"slug\":\"deauthentication\"},{\"depth\":3,\"title\":\"Credentials\",\"slug\":\"credentials\"},{\"depth\":2,\"title\":\"Conclusion\",\"slug\":\"conclusion\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"WPA(2) PMKID Hash Cracking (MIC) Process Explained\",\"tags\":[\"wireless\",\"wpa-wpa2\",\"wifi\"],\"categories\":[\"Writeups\"],\"summary\":\"A guide on what the MIC is and how the actual WPA(2) cracking happens at lower level\",\"created\":\"2024-08-25T00:00:00.000Z\",\"lastmod\":\"2024-08-25T00:00:00.000Z\",\"image\":\"https://github.com/user-attachments/assets/51b06557-0a25-4ddd-a59d-6783add3a447\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.282Z\",\"slug\":\"/blog/2023/wpa-hash-cracking-process-explained-in-detal/+page.md\",\"path\":\"/blog/2023/wpa-hash-cracking-process-explained-in-detal\",\"toc\":[{\"depth\":2,\"title\":\"The Handshake Process\",\"slug\":\"the-handshake-process\"},{\"depth\":3,\"title\":\"(PML) Pairwise Master Key Computation\",\"slug\":\"pml-pairwise-master-key-computation\"},{\"depth\":3,\"title\":\"(PTK) Pairwise Transient Key Computation\",\"slug\":\"ptk-pairwise-transient-key-computation\"},{\"depth\":3,\"title\":\"(MIC) Message Integrity Code\",\"slug\":\"mic-message-integrity-code\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"Writeups for Web challenges from HTB Cyber Apocalypse CTF 2024\",\"tags\":[\"ctf\",\"cyber-apocalypse\",\"htb\",\"htb-2024\",\"web\"],\"categories\":[\"CTF\",\"Writeups\"],\"summary\":\"This blog post contains the writeups for the web challenges that i solved from HTB Cyber Apocalypse 2024\",\"created\":\"2024-03-14T00:00:00.000Z\",\"lastmod\":\"2024-03-14T00:00:00.000Z\",\"image\":\"https://github.com/hash3liZer/khatta/assets/29171692/d5abad92-0b61-4418-af4b-582a6d03044b\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.278Z\",\"slug\":\"/blog/2023/htb-cyber-apocalypse-ctf-2024-web-writeups/+page.md\",\"path\":\"/blog/2023/htb-cyber-apocalypse-ctf-2024-web-writeups\",\"toc\":[{\"depth\":2,\"title\":\"WEB\",\"slug\":\"web\"},{\"depth\":3,\"title\":\"Labyrinth Linguist - Easy\",\"slug\":\"labyrinth-linguist---easy\"},{\"depth\":3,\"title\":\"LockTalk\",\"slug\":\"locktalk\"},{\"depth\":3,\"title\":\"SerialFlow\",\"slug\":\"serialflow\"},{\"depth\":2,\"title\":\"Ending Note\",\"slug\":\"ending-note\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"Writeups for Web challenges from PCC 23\",\"tags\":[\"pcc23\"],\"categories\":[\"CTF\",\"Writeups\"],\"summary\":\"These are the writeups for web challenges from PCC 23 held at Air University Islamabad\",\"created\":\"2023-12-22T00:00:00.000Z\",\"lastmod\":\"2023-12-22T00:00:00.000Z\",\"image\":\"https://github.com/hash3liZer/khatta/assets/29171692/661f1693-25ee-4ea3-8599-635e7b73cb6e\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.278Z\",\"slug\":\"/blog/2023/pcc-23-web-challenge-writeups/+page.md\",\"path\":\"/blog/2023/pcc-23-web-challenge-writeups\",\"toc\":[{\"depth\":1,\"title\":\"Qualifiers\",\"slug\":\"qualifiers\"},{\"depth\":3,\"title\":\"Secure ME\",\"slug\":\"secure-me\"},{\"depth\":1,\"title\":\"Finals\",\"slug\":\"finals\"},{\"depth\":3,\"title\":\"JazzME\",\"slug\":\"jazzme\"},{\"depth\":3,\"title\":\"Lama\",\"slug\":\"lama\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"Blackhat MEA CTF Qualifiers Web Authy and Warm Me Up Writeup\",\"tags\":[\"blackhatmea\",\"ctf\",\"authy\",\"warmme-up\",\"unicode\",\"broken-logic\"],\"categories\":[\"CTF\",\"Writeups\"],\"summary\":\"Writeups for 2 of web challenges from Blackhat MEA Qualifier CTF Round namely Authy and Warm Me Up\",\"created\":\"2023-11-13T00:00:00.000Z\",\"lastmod\":\"2023-11-13T00:00:00.000Z\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.278Z\",\"slug\":\"/blog/2023/blackhatmea-ctf-web-authy-writeup/+page.md\",\"path\":\"/blog/2023/blackhatmea-ctf-web-authy-writeup\",\"toc\":[{\"depth\":2,\"title\":\"Introduction\",\"slug\":\"introduction\"},{\"depth\":3,\"title\":\"Authy\",\"slug\":\"authy\"},{\"depth\":3,\"title\":\"Warm Me Up\",\"slug\":\"warm-me-up\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"Deploy a Django Application on Ubuntu 22.04 with Gunicorn & NGINX\",\"tags\":[\"django\",\"deployment\",\"development\",\"drf\",\"python\",\"ubuntu\"],\"categories\":[\"Linux\",\"Development\"],\"summary\":\"A Detailed walkthrough of the process of deploying a django application on a ubuntu server from scratch. This guide covers the deployment stages with Gunicorn, NGINX and Postgresql.\",\"created\":\"2023-09-11T00:00:00.000Z\",\"lastmod\":\"2023-10-29T00:00:00.000Z\",\"image\":\"https://github.com/hash3liZer/khatta/assets/29171692/ed7dd92d-f7d1-4646-9194-e02102945392\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.278Z\",\"slug\":\"/blog/2023/deploy-django-website-nginx-gunicorn-ubuntu-22/+page.md\",\"path\":\"/blog/2023/deploy-django-website-nginx-gunicorn-ubuntu-22\",\"toc\":[{\"depth\":2,\"title\":\"Introduction\",\"slug\":\"introduction\"},{\"depth\":2,\"title\":\"Tutorial\",\"slug\":\"tutorial\"},{\"depth\":3,\"title\":\"Pre-Reqs\",\"slug\":\"pre-reqs\"},{\"depth\":3,\"title\":\"Installing Packages\",\"slug\":\"installing-packages\"},{\"depth\":3,\"title\":\"Setting up Project Directory\",\"slug\":\"setting-up-project-directory\"},{\"depth\":3,\"title\":\"Setting up Postgres (Database)\",\"slug\":\"setting-up-postgres-database\"},{\"depth\":3,\"title\":\"Project Settings\",\"slug\":\"project-settings\"},{\"depth\":3,\"title\":\"Spin up the Project\",\"slug\":\"spin-up-the-project\"},{\"depth\":3,\"title\":\"Setting up Gunicorn\",\"slug\":\"setting-up-gunicorn\"},{\"depth\":3,\"title\":\"Setting UP NGINX\",\"slug\":\"setting-up-nginx\"},{\"depth\":2,\"title\":\"Conclusion\",\"slug\":\"conclusion\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"Web Sanity Writeup AmateursCTF 2023 DOM Clobbering and Prototype Pollution\",\"tags\":[\"amateurs-ctf\",\"writeup\",\"sanity\",\"xss\",\"dom-clobbering\",\"prototype-pollution\"],\"categories\":[\"CTF\",\"Writeups\"],\"summary\":\"A complete writeup of sanity web challenge from AmateursCTF 2023. It covers the use of the Sanitizer API in browsers, DOM Clobbering, Parameter Pollution and XSS.\",\"created\":\"2023-07-21T00:00:00.000Z\",\"lastmod\":\"2023-07-21T00:00:00.000Z\",\"image\":\"https://github.com/hash3liZer/khatta/assets/29171692/c70a5dc7-5294-45b7-8a9f-8a04ac9214b3\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.278Z\",\"slug\":\"/blog/2023/amateursctf-web-2023-writeup-sanity/+page.md\",\"path\":\"/blog/2023/amateursctf-web-2023-writeup-sanity\",\"toc\":[{\"depth\":2,\"title\":\"Introduction\",\"slug\":\"introduction\"},{\"depth\":2,\"title\":\"Surface\",\"slug\":\"surface\"},{\"depth\":2,\"title\":\"Behind the Scenes\",\"slug\":\"behind-the-scenes\"},{\"depth\":3,\"title\":\"DOM Clobbering\",\"slug\":\"dom-clobbering\"},{\"depth\":3,\"title\":\"Attacker Server\",\"slug\":\"attacker-server\"},{\"depth\":3,\"title\":\"Prototype Pollution\",\"slug\":\"prototype-pollution\"},{\"depth\":4,\"title\":\"Proof of Concept (POC)\",\"slug\":\"proof-of-concept-poc\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"A Guide to Zone Transfer, DNS Zone Takeover and Subdomain Takeover\",\"tags\":[\"dns-zone-takeover\",\"dns-zone-transfer\",\"subdomain-takeover\",\"bugbounty\",\"infosec\",\"reconnaissance\",\"automated-tool\"],\"categories\":[\"Bug Bounty\",\"Projects\"],\"summary\":\"In this guide, we will be looking over vulnerabilites associated with a domain normally occured due to the negligence from the develper team. The terms we will see are Zone Transfer, DNS Zone Takeover and Subdomain Takeover.\",\"created\":\"2023-06-30T00:00:00.000Z\",\"lastmod\":\"2023-06-30T00:00:00.000Z\",\"image\":\"https://github.com/hash3liZer/khatta/assets/29171692/755e47ec-8f67-45e9-a7cb-04efe7584127\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.282Z\",\"slug\":\"/blog/2023/subrake-a-dns-automated-scanner/+page.md\",\"path\":\"/blog/2023/subrake-a-dns-automated-scanner\",\"toc\":[{\"depth\":2,\"title\":\"Introduction\",\"slug\":\"introduction\"},{\"depth\":2,\"title\":\"Subrake\",\"slug\":\"subrake\"},{\"depth\":2,\"title\":\"Explanation\",\"slug\":\"explanation\"},{\"depth\":3,\"title\":\"Zone Transfer\",\"slug\":\"zone-transfer\"},{\"depth\":3,\"title\":\"Subdomain Takeover\",\"slug\":\"subdomain-takeover\"},{\"depth\":3,\"title\":\"DNS Zone Takeover\",\"slug\":\"dns-zone-takeover\"},{\"depth\":4,\"title\":\"Finding Zone Takeover\",\"slug\":\"finding-zone-takeover\"},{\"depth\":2,\"title\":\"Using Subrake\",\"slug\":\"using-subrake\"},{\"depth\":2,\"title\":\"Conclusion\",\"slug\":\"conclusion\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"BSidesTLV CTF 2023 Browselicious (Misc) Writeup\",\"tags\":[\"ctf\",\"writeups\",\"bsidestlv-ctf-2023\"],\"categories\":[\"CTF Writeups\"],\"summary\":\"Writeup for Browselicious challenge (Misc) from BsidesTLV CTF 2023\",\"created\":\"2023-06-28T00:00:00.000Z\",\"lastmod\":\"2023-06-28T00:00:00.000Z\",\"image\":\"https://github.com/hash3liZer/khatta/assets/29171692/1788ec87-fc59-49a7-a035-ec767504fb3d\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.282Z\",\"slug\":\"/blog/2023/writeup-browselicious-challenge-bsidestlv-ctf/+page.md\",\"path\":\"/blog/2023/writeup-browselicious-challenge-bsidestlv-ctf\",\"toc\":[{\"depth\":1,\"title\":\"Introducton\",\"slug\":\"introducton\"},{\"depth\":1,\"title\":\"Writeup\",\"slug\":\"writeup\"},{\"depth\":3,\"title\":\"Server Request\",\"slug\":\"server-request\"},{\"depth\":3,\"title\":\"Code Review\",\"slug\":\"code-review\"},{\"depth\":3,\"title\":\"Exploit\",\"slug\":\"exploit\"},{\"depth\":4,\"title\":\"Input Field\",\"slug\":\"input-field\"},{\"depth\":4,\"title\":\"Race Condition\",\"slug\":\"race-condition\"},{\"depth\":4,\"title\":\"Post Message\",\"slug\":\"post-message\"},{\"depth\":2,\"title\":\"PoC\",\"slug\":\"poc\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"Google CTF 2023 Under Construction (Web) Writeup\",\"tags\":[\"ctf\",\"writeups\",\"google-ctf-2023\"],\"categories\":[\"CTF Writeups\"],\"summary\":\"Writeup for under construction challenge from google ctf 2023\",\"created\":\"2023-06-27T00:00:00.000Z\",\"lastmod\":\"2023-06-27T00:00:00.000Z\",\"image\":\"https://github.com/hash3liZer/khatta.sh/assets/29171692/f553635d-6deb-43e5-a2ae-0d8cef296db7\",\"flags\":[],\"updated\":\"2024-09-14T21:03:45.282Z\",\"slug\":\"/blog/2023/writeup-under-construction-google-ctf-2023/+page.md\",\"path\":\"/blog/2023/writeup-under-construction-google-ctf-2023\",\"toc\":[{\"depth\":1,\"title\":\"Introduction\",\"slug\":\"introduction\"},{\"depth\":1,\"title\":\"Writeup\",\"slug\":\"writeup\"},{\"depth\":2,\"title\":\"Getting Started\",\"slug\":\"getting-started\"},{\"depth\":2,\"title\":\"Vulnerable Part\",\"slug\":\"vulnerable-part\"},{\"depth\":2,\"title\":\"Exploit\",\"slug\":\"exploit\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"Privacy Policy\",\"created\":\"2023-06-27T00:00:00.000Z\",\"flags\":[\"unlisted\"],\"updated\":\"2024-09-14T21:03:45.282Z\",\"slug\":\"/privacy/+page.svelte.md\",\"path\":\"/privacy\",\"toc\":false,\"type\":\"article\",\"html\":\"\"},{\"title\":\"SSTI Bypass using HTTP Request Referer and Cookie headers - My First App Writeup\",\"tags\":[\"UoftCTF\",\"writeup\",\"ssti\",\"template-injection\",\"jwt\"],\"categories\":[\"CTF\",\"Writeups\"],\"summary\":\"This is solution for My First App challenge from UofTCTF 23. It covers initial JWT cracking and then escalating it to SSTI. And then bypassing filters by using the request object attributes\",\"created\":\"2023-01-16T00:00:00.000Z\",\"lastmod\":\"2023-01-16T00:00:00.000Z\",\"image\":\"https://github.com/hash3liZer/khatta/assets/29171692/45d79cff-0f11-4c49-92cb-a530ee2c36a5\",\"flags\":[\"unlisted\"],\"updated\":\"2024-09-14T21:03:45.278Z\",\"slug\":\"/blog/2023/ssti-bypass-using-referer-and-cookie-my-first-app-uoftctf-23/+page.md\",\"path\":\"/blog/2023/ssti-bypass-using-referer-and-cookie-my-first-app-uoftctf-23\",\"toc\":[{\"depth\":2,\"title\":\"Introduction\",\"slug\":\"introduction\"}],\"type\":\"article\",\"html\":\"\"},{\"title\":\"About Me\",\"created\":\"2022-05-06T00:00:00.000Z\",\"flags\":[\"unlisted\"],\"updated\":\"2024-09-14T21:03:45.282Z\",\"slug\":\"/resume/+page.svelte.md\",\"path\":\"/resume\",\"toc\":[{\"depth\":2,\"title\":\"Skills\",\"slug\":\"skills\"},{\"depth\":2,\"title\":\"Experience\",\"slug\":\"experience\"},{\"depth\":2,\"title\":\"Education\",\"slug\":\"education\"},{\"depth\":2,\"title\":\"Certifications\",\"slug\":\"certifications\"},{\"depth\":2,\"title\":\"Acheivements\",\"slug\":\"acheivements\"},{\"depth\":2,\"title\":\"Projects\",\"slug\":\"projects\"},{\"depth\":2,\"title\":\"Volunteering and Startups\",\"slug\":\"volunteering-and-startups\"},{\"depth\":2,\"title\":\"Contact\",\"slug\":\"contact\"}],\"type\":\"article\",\"html\":\"\"}]"}</script>
			<script>
				{
					__sveltekit_spmf87 = {
						base: new URL("../../..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("../../../_app/immutable/entry/start.fa44d9bc.js"),
						import("../../../_app/immutable/entry/app.10ceab29.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		
    <div style="display: contents">%sveltekit.body%</div>
  </body>
</html>
