import{S as V,i as j,s as R,k as g,l as v,m as b,h as u,n as f,b as N,D as E,E as $,F as st,o as lt,a8 as ft,q as ut,a as F,r as dt,c as H,G as T,H as ht,u as mt,g as w,d as k,e as G,v as J,f as Q,x as W,y as B,z as C,A as L,B as D,I as K,L as X,M as Y,N as ot,O as rt,P as it,Q as ct}from"./index.4118b084.js";import{t as _t}from"./posts.7eeb28a4.js";import{f as z}from"./title.c99ea2a0.js";import{P as pt}from"./post_card.0aa4da3e.js";import{H as gt,F as vt}from"./footer.18c8ab15.js";import{s as x}from"./icon.4ac474f8.js";function Z(o,t,a){const n=o.slice();return n[5]=t[a].depth,n[6]=t[a].title,n[7]=t[a].slug,n}function tt(o){let t,a,n=o[6]+"",e,l,s,c,r,d,m;function O(){return o[4](o[7])}return{c(){t=g("li"),a=g("span"),e=ut(n),c=F(),this.h()},l(_){t=v(_,"LI",{id:!0,class:!0});var h=b(t);a=v(h,"SPAN",{dir:!0,id:!0,class:!0});var P=b(a);e=dt(P,n),P.forEach(u),c=H(h),h.forEach(u),this.h()},h(){f(a,"dir","ltr"),f(a,"id",l=`toc-link-${o[7]}`),f(a,"class",s="cursor-pointer border-l-4 border-transparent transition-all hover:border-primary hover:bg-base-content hover:bg-opacity-10 active:bg-primary active:text-primary-content active:font-bold pr-4 "+(o[5]<=2?"py-3":"py-2")),T(a,"pl-4",o[5]<=2),T(a,"pl-8",o[5]===3),T(a,"pl-12",o[5]===4),T(a,"pl-16",o[5]===5),T(a,"pl-20",o[5]===6),f(t,"id",r=`toc-item-${o[7]}`),f(t,"class","flex flex-col")},m(_,h){N(_,t,h),E(t,a),E(a,e),E(t,c),d||(m=ht(a,"click",O),d=!0)},p(_,h){o=_,h&1&&n!==(n=o[6]+"")&&mt(e,n),h&1&&l!==(l=`toc-link-${o[7]}`)&&f(a,"id",l),h&1&&s!==(s="cursor-pointer border-l-4 border-transparent transition-all hover:border-primary hover:bg-base-content hover:bg-opacity-10 active:bg-primary active:text-primary-content active:font-bold pr-4 "+(o[5]<=2?"py-3":"py-2"))&&f(a,"class",s),h&1&&T(a,"pl-4",o[5]<=2),h&1&&T(a,"pl-8",o[5]===3),h&1&&T(a,"pl-12",o[5]===4),h&1&&T(a,"pl-16",o[5]===5),h&1&&T(a,"pl-20",o[5]===6),h&1&&r!==(r=`toc-item-${o[7]}`)&&f(t,"id",r)},d(_){_&&u(t),d=!1,m()}}}function bt(o){let t,a,n,e=o[0],l=[];for(let s=0;s<e.length;s+=1)l[s]=tt(Z(o,e,s));return{c(){t=g("aside"),a=g("nav"),n=g("ul");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){t=v(s,"ASIDE",{class:!0});var c=b(t);a=v(c,"NAV",{id:!0,"aria-label":!0,dir:!0,class:!0});var r=b(a);n=v(r,"UL",{dir:!0,id:!0});var d=b(n);for(let m=0;m<l.length;m+=1)l[m].l(d);d.forEach(u),r.forEach(u),c.forEach(u),this.h()},h(){f(n,"dir","ltr"),f(n,"id","toc-list-root"),f(a,"id","post-toc"),f(a,"aria-label","TableOfContent"),f(a,"dir","rtl"),f(a,"class","max-h-[calc(100vh-12rem)] overflow-y-hidden hover:overflow-y-auto"),f(t,"class","sticky top-16 py-8")},m(s,c){N(s,t,c),E(t,a),E(a,n);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(n,null)},p(s,[c]){if(c&1){e=s[0];let r;for(r=0;r<e.length;r+=1){const d=Z(s,e,r);l[r]?l[r].p(d,c):(l[r]=tt(d),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=e.length}},i:$,o:$,d(s){s&&u(t),st(l,s)}}}function yt(o,t,a){let{toc:n}=t,e=[],l=!0,s=[];lt(()=>{if(window.screen.availWidth>=1280){const r=new IntersectionObserver(m=>m.forEach(O=>O.isIntersecting?e.push(O.target.id):a(1,e=e.filter(_=>_!==O.target.id))),{rootMargin:"-64px 0px 0px 0px"}),d=new IntersectionObserver(m=>a(2,l=m[0].isIntersecting));Array.from(document.querySelectorAll("main h2, main h3, main h4, main h5, main h6")).forEach(m=>r.observe(m)),d.observe(document.getElementsByTagName("main")[0])}}),ft(()=>{typeof headingsObserver<"u"&&headingsObserver.disconnect(),typeof articleObserver<"u"&&articleObserver.disconnect()});const c=r=>document.getElementById(r).scrollIntoView({behavior:"smooth"});return o.$$set=r=>{"toc"in r&&a(0,n=r.toc)},o.$$.update=()=>{o.$$.dirty&2&&e.length>0&&a(3,s=e),o.$$.dirty&4&&l===!1&&a(3,s=[]),o.$$.dirty&9&&s&&n.forEach(r=>{var d,m;return s.includes(r.slug)?(d=document.getElementById(`toc-link-${r.slug}`))==null?void 0:d.classList.add("!border-accent"):(m=document.getElementById(`toc-link-${r.slug}`))==null?void 0:m.classList.remove("!border-accent")})},[n,e,l,s,c]}class wt extends V{constructor(t){super(),j(this,t,yt,bt,R,{toc:0})}}function Et(o){let t,a,n;return{c(){t=g("button"),a=g("a"),n=g("span"),this.h()},l(e){t=v(e,"BUTTON",{class:!0,"data-tip":!0});var l=b(t);a=v(l,"A",{href:!0,class:!0});var s=b(a);n=v(s,"SPAN",{class:!0}),b(n).forEach(u),s.forEach(u),l.forEach(u),this.h()},h(){f(n,"class","i-heroicons-outline-chat-alt-2"),f(a,"href","#post-comment"),f(a,"class","btn btn-circle btn-ghost hover:bg-red-10"),f(t,"class","tooltip tooltip-left opacity-60 hover:opacity-100"),f(t,"data-tip","Jump to comments")},m(e,l){N(e,t,l),E(t,a),E(a,n)},p:$,i:$,o:$,d(e){e&&u(t)}}}class kt extends V{constructor(t){super(),j(this,t,null,Et,R,{})}}function It(o){let t,a,n,e;return{c(){t=g("button"),a=g("a"),n=g("span"),this.h()},l(l){t=v(l,"BUTTON",{class:!0,"data-tip":!0});var s=b(t);a=v(s,"A",{href:!0,class:!0});var c=b(a);n=v(c,"SPAN",{class:!0}),b(n).forEach(u),c.forEach(u),s.forEach(u),this.h()},h(){f(n,"class","i-heroicons-outline-translate"),f(a,"href",e=`https://translate.google.com/translate?sl=auto&tl=${navigator.languages?navigator.languages[0]:navigator.language}&u=${x.protocol+x.domain+o[0].path}`),f(a,"class","btn btn-circle btn-ghost"),f(t,"class","tooltip tooltip-left opacity-60 hover:opacity-100"),f(t,"data-tip","Translate")},m(l,s){N(l,t,s),E(t,a),E(a,n)},p(l,[s]){s&1&&e!==(e=`https://translate.google.com/translate?sl=auto&tl=${navigator.languages?navigator.languages[0]:navigator.language}&u=${x.protocol+x.domain+l[0].path}`)&&f(a,"href",e)},i:$,o:$,d(l){l&&u(t)}}}function Ot(o,t,a){let{post:n}=t;return o.$$set=e=>{"post"in e&&a(0,n=e.post)},[n]}class At extends V{constructor(t){super(),j(this,t,Ot,It,R,{post:0})}}function Nt(o){let t,a,n,e;return{c(){t=g("button"),a=g("a"),n=g("span"),this.h()},l(l){t=v(l,"BUTTON",{class:!0,"data-tip":!0});var s=b(t);a=v(s,"A",{href:!0,class:!0});var c=b(a);n=v(c,"SPAN",{class:!0}),b(n).forEach(u),c.forEach(u),s.forEach(u),this.h()},h(){f(n,"class","i-heroicons-outline-share"),f(a,"href",e=`https://www.addtoany.com/share#url=${x.protocol+x.domain+o[0].path}&title=${encodeURI(o[0].title??o[0].path.slice(1))}`),f(a,"class","btn btn-circle btn-ghost"),f(t,"class","tooltip tooltip-left opacity-60 hover:opacity-100"),f(t,"data-tip","Share")},m(l,s){N(l,t,s),E(t,a),E(a,n)},p(l,[s]){s&1&&e!==(e=`https://www.addtoany.com/share#url=${x.protocol+x.domain+l[0].path}&title=${encodeURI(l[0].title??l[0].path.slice(1))}`)&&f(a,"href",e)},i:$,o:$,d(l){l&&u(t)}}}function Pt(o,t,a){let{post:n}=t;return o.$$set=e=>{"post"in e&&a(0,n=e.post)},[n]}class St extends V{constructor(t){super(),j(this,t,Pt,Nt,R,{post:0})}}function et(o,t,a){const n=o.slice();return n[2]=t[a],n}function Tt(o){let t,a,n=Object.values(o[1]),e=[];for(let s=0;s<n.length;s+=1)e[s]=nt(et(o,n,s));const l=s=>k(e[s],1,1,()=>{e[s]=null});return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=G()},l(s){for(let c=0;c<e.length;c+=1)e[c].l(s);t=G()},m(s,c){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(s,c);N(s,t,c),a=!0},p(s,c){if(c&3){n=Object.values(s[1]);let r;for(r=0;r<n.length;r+=1){const d=et(s,n,r);e[r]?(e[r].p(d,c),w(e[r],1)):(e[r]=nt(d),e[r].c(),w(e[r],1),e[r].m(t.parentNode,t))}for(J(),r=n.length;r<e.length;r+=1)l(r);Q()}},i(s){if(!a){for(let c=0;c<n.length;c+=1)w(e[c]);a=!0}},o(s){e=e.filter(Boolean);for(let c=0;c<e.length;c+=1)k(e[c]);a=!1},d(s){st(e,s),s&&u(t)}}}function nt(o){let t,a,n;var e=o[2];function l(s){return{props:{post:s[0]}}}return e&&(t=W(e,l(o))),{c(){t&&B(t.$$.fragment),a=G()},l(s){t&&C(t.$$.fragment,s),a=G()},m(s,c){t&&L(t,s,c),N(s,a,c),n=!0},p(s,c){const r={};if(c&1&&(r.post=s[0]),e!==(e=s[2])){if(t){J();const d=t;k(d.$$.fragment,1,0,()=>{D(d,1)}),Q()}e?(t=W(e,l(s)),B(t.$$.fragment),w(t.$$.fragment,1),L(t,a.parentNode,a)):t=null}else e&&t.$set(r)},i(s){n||(t&&w(t.$$.fragment,s),n=!0)},o(s){t&&k(t.$$.fragment,s),n=!1},d(s){s&&u(a),t&&D(t,s)}}}function $t(o){let t,a=Object.keys(o[1]).length,n,e=a&&Tt(o);return{c(){t=g("div"),e&&e.c(),this.h()},l(l){t=v(l,"DIV",{class:!0});var s=b(t);e&&e.l(s),s.forEach(u),this.h()},h(){f(t,"class","sticky top-24 hidden xl:flex flex-col gap-4 w-fit max-h-[calc(100vh-12rem)] ml-auto mr-6 my-8 justify-center")},m(l,s){N(l,t,s),e&&e.m(t,null),n=!0},p(l,[s]){a&&e.p(l,s)},i(l){n||(w(e),n=!0)},o(l){k(e),n=!1},d(l){l&&u(t),e&&e.d()}}}function xt(o,t,a){let{post:n}=t;const e=Object.assign({"/src/lib/components/actions/1-comment.svelte":kt,"/src/lib/components/actions/2-translate.svelte":At,"/src/lib/components/actions/3-share.svelte":St});return o.$$set=l=>{"post"in l&&a(0,n=l.post)},[n,e]}class Bt extends V{constructor(t){super(),j(this,t,xt,$t,R,{post:0})}}const Lt=()=>{const o=document.querySelectorAll("pre"),t="Copy",a="Copied!",n=async(e,l)=>{const s=document.createRange(),c=e.childNodes.length;s.setStart(e,2),s.setEnd(e,c);const r=window.getSelection();!r||(r.removeAllRanges(),r.addRange(s),document.execCommand("copy",!1),!(async()=>navigator.clipboard.writeText(r.toString())))||(l.textContent=a,setTimeout(()=>{l.textContent=t},1e3),r.removeRange(s))};o.forEach(e=>{const l=document.createElement("button");l.textContent=t,l.classList.add("btn","btn-secondary","btn-xs","absolute","right-2","top-3","hidden"),e.prepend(l),e.addEventListener("mouseenter",()=>{l.classList.remove("hidden")}),e.addEventListener("mouseleave",()=>{l.classList.add("hidden")}),l.addEventListener("click",s=>{s.preventDefault(),n(e,l)})})};function Dt(o){let t,a;return t=new Bt({props:{post:o[0]}}),{c(){B(t.$$.fragment)},l(n){C(t.$$.fragment,n)},m(n,e){L(t,n,e),a=!0},p(n,e){const l={};e&1&&(l.post=n[0]),t.$set(l)},i(n){a||(w(t.$$.fragment,n),a=!0)},o(n){k(t.$$.fragment,n),a=!1},d(n){D(t,n)}}}function at(o){let t,a,n;return a=new wt({props:{toc:o[0].toc}}),{c(){t=g("div"),B(a.$$.fragment),this.h()},l(e){t=v(e,"DIV",{class:!0});var l=b(t);C(a.$$.fragment,l),l.forEach(u),this.h()},h(){f(t,"class","h-full hidden xl:block")},m(e,l){N(e,t,l),L(a,t,null),n=!0},p(e,l){const s={};l&1&&(s.toc=e[0].toc),a.$set(s)},i(e){n||(w(a.$$.fragment,e),n=!0)},o(e){k(a.$$.fragment,e),n=!1},d(e){e&&u(t),D(a)}}}function Ct(o){let t;const a=o[1].default,n=ot(a,o,o[2],null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,l){n&&n.m(e,l),t=!0},p(e,l){n&&n.p&&(!t||l&4)&&rt(n,a,e,e[2],t?ct(a,e[2],l,null):it(e[2]),null)},i(e){t||(w(n,e),t=!0)},o(e){k(n,e),t=!1},d(e){n&&n.d(e)}}}function Vt(o){let t,a,n,e,l,s,c,r,d,m,O,_,h,P,A,S;t=new gt({props:{post:o[0]}});let I=Dt(o),p=o[0].toc&&at(o);return h=new pt({props:{post:o[0],$$slots:{default:[Ct]},$$scope:{ctx:o}}}),A=new vt({props:{sticky:!0}}),{c(){B(t.$$.fragment),a=F(),n=g("div"),e=g("div"),I&&I.c(),c=F(),r=g("div"),p&&p.c(),O=F(),_=g("div"),B(h.$$.fragment),P=F(),B(A.$$.fragment),this.h()},l(i){C(t.$$.fragment,i),a=H(i),n=v(i,"DIV",{class:!0});var y=b(n);e=v(y,"DIV",{class:!0});var q=b(e);I&&I.l(q),q.forEach(u),c=H(y),r=v(y,"DIV",{class:!0});var U=b(r);p&&p.l(U),U.forEach(u),O=H(y),_=v(y,"DIV",{class:!0});var M=b(_);C(h.$$.fragment,M),P=H(M),C(A.$$.fragment,M),M.forEach(u),y.forEach(u),this.h()},h(){f(e,"class","flex-1 w-full order-first ease-out transform mx-auto xl:mr-0 xl:ml-0"),f(r,"class","flex-1 w-full xl:order-last ease-out transform mx-auto xl:ml-0 xl:mr-0"),f(_,"class","flex-none w-full max-w-screen-md mx-auto xl:mx-0"),f(n,"class","flex flex-col flex-nowrap justify-center xl:flex-row xl:flex-wrap")},m(i,y){L(t,i,y),N(i,a,y),N(i,n,y),E(n,e),I&&I.m(e,null),E(n,c),E(n,r),p&&p.m(r,null),E(n,O),E(n,_),L(h,_,null),E(_,P),L(A,_,null),S=!0},p(i,[y]){const q={};y&1&&(q.post=i[0]),t.$set(q),I.p(i,y),i[0].toc?p?(p.p(i,y),y&1&&w(p,1)):(p=at(i),p.c(),w(p,1),p.m(r,null)):p&&(J(),k(p,1,1,()=>{p=null}),Q());const U={};y&1&&(U.post=i[0]),y&4&&(U.$$scope={dirty:y,ctx:i}),h.$set(U)},i(i){S||(w(t.$$.fragment,i),w(I),K(()=>{S&&(s&&s.end(1),l=X(e,z,{x:25,duration:300,delay:500}),l.start())}),w(p),K(()=>{S&&(m&&m.end(1),d=X(r,z,{x:-25,duration:300,delay:500}),d.start())}),w(h.$$.fragment,i),w(A.$$.fragment,i),S=!0)},o(i){k(t.$$.fragment,i),k(I),l&&l.invalidate(),s=Y(e,z,{x:25,duration:300}),k(p),d&&d.invalidate(),m=Y(r,z,{x:-25,duration:300}),k(h.$$.fragment,i),k(A.$$.fragment,i),S=!1},d(i){D(t,i),i&&u(a),i&&u(n),I&&I.d(),i&&s&&s.end(),p&&p.d(),i&&m&&m.end(),D(h),D(A)}}}function jt(o,t,a){let{$$slots:n={},$$scope:e}=t,{post:l}=t;return lt(()=>{Lt()}),o.$$set=s=>{"post"in s&&a(0,l=s.post),"$$scope"in s&&a(2,e=s.$$scope)},[l,n,e]}class Rt extends V{constructor(t){super(),j(this,t,jt,Vt,R,{post:0})}}function Ut(o){let t;const a=o[13].default,n=ot(a,o,o[14],null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,l){n&&n.m(e,l),t=!0},p(e,l){n&&n.p&&(!t||l&16384)&&rt(n,a,e,e[14],t?ct(a,e[14],l,null):it(e[14]),null)},i(e){t||(w(n,e),t=!0)},o(e){k(n,e),t=!1},d(e){n&&n.d(e)}}}function qt(o){let t,a;return t=new Rt({props:{post:o[0],$$slots:{default:[Ut]},$$scope:{ctx:o}}}),{c(){B(t.$$.fragment)},l(n){C(t.$$.fragment,n)},m(n,e){L(t,n,e),a=!0},p(n,[e]){const l={};e&16384&&(l.$$scope={dirty:e,ctx:n}),t.$set(l)},i(n){a||(w(t.$$.fragment,n),a=!0)},o(n){k(t.$$.fragment,n),a=!1},d(n){D(t,n)}}}function Ft(o,t,a){let{$$slots:n={},$$scope:e}=t,{path:l}=t,{slug:s}=t,{toc:c}=t,{created:r}=t,{updated:d}=t,{published:m}=t,{summary:O}=t,{tags:_}=t,{flags:h}=t,{title:P}=t,{image:A}=t,{in_reply_to:S}=t,I={path:l,slug:s,toc:c,created:r,updated:d,published:m,summary:O,tags:_,flags:h,title:P,image:A,in_reply_to:S},p={type:_t(I),...I};return o.$$set=i=>{"path"in i&&a(1,l=i.path),"slug"in i&&a(2,s=i.slug),"toc"in i&&a(3,c=i.toc),"created"in i&&a(4,r=i.created),"updated"in i&&a(5,d=i.updated),"published"in i&&a(6,m=i.published),"summary"in i&&a(7,O=i.summary),"tags"in i&&a(8,_=i.tags),"flags"in i&&a(9,h=i.flags),"title"in i&&a(10,P=i.title),"image"in i&&a(11,A=i.image),"in_reply_to"in i&&a(12,S=i.in_reply_to),"$$scope"in i&&a(14,e=i.$$scope)},[p,l,s,c,r,d,m,O,_,h,P,A,S,n,e]}class Wt extends V{constructor(t){super(),j(this,t,Ft,qt,R,{path:1,slug:2,toc:3,created:4,updated:5,published:6,summary:7,tags:8,flags:9,title:10,image:11,in_reply_to:12})}}export{Wt as P};
