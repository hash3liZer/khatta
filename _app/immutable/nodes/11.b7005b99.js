import{S as Ep,i as _p,s as yp,W as Qo,y as Go,z as Jo,A as go,X as mp,Y as Xi,g as lr,d as er,B as sr,Z as Yi,k as o,q as f,a as c,_ as v,l as r,m as i,r as n,h as e,c as F,$ as E,n as p,b as t,D as s,E as hp}from"../chunks/index.54014205.js";import{P as bp}from"../chunks/post_layout.fd56cf68.js";import{I as Ki}from"../chunks/post_card.53437310.js";function Dp(Ml){let d,h,b,D,u,_,y,Le,P,Oa,Ba,Ne,S,Za,Ps,Q,ja,$,Va,Ss,C,Xa,L,Ya,Ka,$s,G,Ol,Qa,Cs,J,Bl,Ga,Ls,N,Ja,Zl,g,ga,lt,Ns,ll,et,el,Us,sl,jl,st,Is,U,at,Vl,al,tt,ot,zs,Ue,Gi=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" zsh="true"><div class="language-id">zsh</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">apt update</span></div><div class='line'><span style="color: #EEFFFF">apt install apt-transport-https ca-certificates curl software-properties-common</span></div><div class='line'><span style="color: #EEFFFF">curl -fsSL https://download.docker.com/linux/ubuntu/gpg </span><span style="color: #89DDFF">|</span><span style="color: #EEFFFF"> apt-key add -</span></div><div class='line'><span style="color: #EEFFFF">add-apt-repository </span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable</span><span style="color: #89DDFF">"</span></div><div class='line'><span style="color: #EEFFFF">apt update</span></div></code></div></pre>`,Ie,I,rt,z,it,pt,Ws,Xl,ft,qs,ze,Ji=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" zsh="true"><div class="language-id">zsh</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">docker -v</span></div></code></div></pre>`,We,tl,Yl,nt,Rs,ol,ct,W,Ft,Ts,Kl,dt,Ms,q,ut,Ql,rl,vt,Et,Os,qe,gi=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" zsh="true"><div class="language-id">zsh</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">apt install net-tools</span></div></code></div></pre>`,Re,Gl,_t,Bs,Te,lp=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">netstat -aptn</span></div></code></div></pre>`,Me,R,yt,Jl,il,mt,ht,Zs,Oe,ep=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF"> sudo apt update</span></div><div class='line'><span style="color: #EEFFFF"> sudo apt install ufw</span></div></code></div></pre>`,Be,gl,bt,js,Ze,sp=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">ufw </span><span style="color: #82AAFF">enable</span><span style="color: #EEFFFF">  </span><span style="color: #546E7A">#打开防火墙</span></div><div class='line'><span style="color: #EEFFFF">ufw disable </span><span style="color: #546E7A">#关闭防火墙</span></div><div class='line'><span style="color: #EEFFFF">ufw status  </span><span style="color: #546E7A">#查看防火墙规则</span></div><div class='line'><span style="color: #EEFFFF">ufw allow 22 </span><span style="color: #546E7A">#打开22端口</span></div><div class='line'><span style="color: #EEFFFF">ufw deny 22 </span><span style="color: #546E7A">#拒绝访问22端口</span></div></code></div></pre>`,je,le,Dt,Vs,pl,ee,kt,Xs,fl,wt,T,At,Ys,nl,se,xt,Ks,ae,Ht,Qs,Ve,ap=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">mkdir </span><span style="color: #89DDFF">~</span><span style="color: #EEFFFF">/.halo </span><span style="color: #89DDFF">&&</span><span style="color: #EEFFFF"> </span><span style="color: #82AAFF">cd</span><span style="color: #EEFFFF"> </span><span style="color: #89DDFF">~</span><span style="color: #EEFFFF">/.halo</span></div></code></div></pre>`,Xe,cl,te,Pt,Gs,Ye,tp=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">wget https://dl.halo.run/config/application-template.yaml -O ./application.yaml</span></div></code></div></pre>`,Ke,Fl,oe,St,Js,re,$t,gs,dl,ie,Ct,la,Qe,op=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">nano application.yaml</span></div></code></div></pre>`,Ge,ul,pe,Lt,ea,vl,M,Nt,Ut,sa,fe,It,aa,Je,rp=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" yaml="true"><div class="language-id">yaml</div><div class='code-container'><code><div class='line'><span style="color: #F07178">server</span><span style="color: #89DDFF">:</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #F07178">port</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">8090</span></div><div class='line'></div><div class='line'><span style="color: #89DDFF">  </span><span style="color: #546E7A"># Response data gzip.</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #F07178">compression</span><span style="color: #89DDFF">:</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">enabled</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #FF9CAC">false</span></div><div class='line'><span style="color: #F07178">spring</span><span style="color: #89DDFF">:</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #F07178">datasource</span><span style="color: #89DDFF">:</span></div><div class='line'><span style="color: #89DDFF">    </span><span style="color: #546E7A"># H2 database configuration.</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">driver-class-name</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #C3E88D">org.h2.Driver</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">url</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #C3E88D">jdbc:h2:file:~/.halo/db/halo</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">username</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #C3E88D">admin</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">#数据库用户名</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">password</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #F78C6C">123456</span><span style="color: #EEFFFF"> </span><span style="color: #546E7A">#数据库密码</span></div><div class='line'></div><div class='line'><span style="color: #89DDFF">    </span><span style="color: #546E7A"># MySQL database configuration.</span></div><div class='line'><span style="color: #89DDFF">  </span><span style="color: #546E7A">#    driver-class-name: com.mysql.cj.jdbc.Driver</span></div><div class='line'><span style="color: #89DDFF">  </span><span style="color: #546E7A">#    url: jdbc:mysql://127.0.0.1:3306/halodb?characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true</span></div><div class='line'><span style="color: #89DDFF">  </span><span style="color: #546E7A">#    username: root</span></div><div class='line'><span style="color: #89DDFF">  </span><span style="color: #546E7A">#    password: 123456</span></div><div class='line'></div><div class='line'><span style="color: #89DDFF">  </span><span style="color: #546E7A"># H2 database console configuration.</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #F07178">h2</span><span style="color: #89DDFF">:</span></div><div class='line'><span style="color: #EEFFFF">    </span><span style="color: #F07178">console</span><span style="color: #89DDFF">:</span></div><div class='line'><span style="color: #EEFFFF">      </span><span style="color: #F07178">settings</span><span style="color: #89DDFF">:</span></div><div class='line'><span style="color: #EEFFFF">        </span><span style="color: #F07178">web-allow-others</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #FF9CAC">false</span></div><div class='line'><span style="color: #EEFFFF">      </span><span style="color: #F07178">path</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #C3E88D">/h2-console</span></div><div class='line'><span style="color: #EEFFFF">      </span><span style="color: #F07178">enabled</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #FF9CAC">false</span></div><div class='line'></div><div class='line'><span style="color: #F07178">halo</span><span style="color: #89DDFF">:</span></div><div class='line'><span style="color: #89DDFF">  </span><span style="color: #546E7A"># Your admin client path is https://your-domain/&#123;admin-path&#125;</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #F07178">admin-path</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #C3E88D">admin</span></div><div class='line'></div><div class='line'><span style="color: #89DDFF">  </span><span style="color: #546E7A"># memory or level</span></div><div class='line'><span style="color: #EEFFFF">  </span><span style="color: #F07178">cache</span><span style="color: #89DDFF">:</span><span style="color: #EEFFFF"> </span><span style="color: #C3E88D">memory</span></div></code></div></pre>`,ge,El,ne,zt,ta,ls,ip=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">docker pull halohub/halo:latest</span></div></code></div></pre>`,es,_l,ce,Wt,oa,ss,pp=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">docker run -it -d --name halo -p 8090:8090 -v </span><span style="color: #89DDFF">~</span><span style="color: #EEFFFF">/.halo:/root/.halo --restart=unless-stopped halohub/halo:latest</span></div></code></div></pre>`,as,yl,Fe,qt,ra,A,Rt,ts,Tt,Mt,ml,ia,hl,de,Ot,pa,k,Bt,ue,bl,Zt,jt,ve,Dl,Vt,Xt,fa,kl,Ee,Yt,na,os,fp=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">apt install nginx</span></div><div class='line'><span style="color: #82AAFF">cd</span><span style="color: #EEFFFF"> /etc/nginx/sites-enabled/</span></div><div class='line'><span style="color: #EEFFFF">rm rf default</span></div><div class='line'><span style="color: #82AAFF">cd</span><span style="color: #EEFFFF"> /etc/nginx/sites-available/</span></div><div class='line'><span style="color: #EEFFFF">nano halo.conf</span></div></code></div></pre>`,rs,wl,_e,Kt,ca,O,Qt,is,Gt,Jt,Fa,ps,np=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" conf="true"><div class='code-container'><code>  upstream halo &#123;
    server 127.0.0.1:8090;
    &#125;
    server &#123;
      listen 80;
      listen [::]:80;
      server_name www.yourdomain.com;
      client_max_body_size 1024m;
      location / &#123;
        proxy_pass http://127.0.0.1:8090;
        proxy_set_header HOST $host;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      &#125;
    &#125;</code></div></pre><!-- Note from shiki-twoslash: the language conf was not set up for Shiki to use, and so there is no code highlighting -->`,fs,w,gt,ns,lo,eo,cs,so,ao,da,ye,to,ua,Fs,cp=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #82AAFF">cd</span><span style="color: #EEFFFF"> /etc/nginx/sites-enabled/</span></div><div class='line'><span style="color: #EEFFFF">ln -s ../sites-available/halo.conf halo.conf</span></div></code></div></pre>`,ds,Al,me,oo,va,us,Fp=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">systemctl reload nginx</span></div></code></div></pre>`,vs,xl,ro,Es,io,Ea,he,po,_a,Hl,be,fo,ya,De,no,ma,Pl,ke,co,ha,_s,dp=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">apt install certbot python3-certbot-nginx</span></div></code></div></pre>`,ys,Sl,we,Fo,ba,Ae,uo,Da,ms,up=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" bash="true"><div class="language-id">bash</div><div class='code-container'><code><div class='line'><span style="color: #EEFFFF">certbot --nginx -d example.com -d www.example.com</span></div></code></div></pre>`,hs,x,vo,bs,Eo,_o,xe,$l,yo,ka,He,mo,wa,Ds,vp=`<pre class="shiki material-default" style="background-color: #263238; color: #EEFFFF" text="true"><div class="language-id">text</div><div class='code-container'><code><div class='line'><span style="color: undefined">  1: No redirect - Make no further changes to the webserver configuration.</span></div><div class='line'><span style="color: undefined">  2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for</span></div><div class='line'><span style="color: undefined">  new sites, or if you're confident your site works on HTTPS. You can undo this</span></div><div class='line'><span style="color: undefined">  change by editing your web server's configuration.</span></div></code></div></pre>`,ks,B,ho,Pe,Cl,bo,Do,Aa,Ll,Se,ko,xa,Z,ws,wo,Ao,As,xo,Ha,Pa,Sa,H,Ho,Po,m,Nl,j,So,Ul,$o,Co,Il,V,Lo,zl,No,Uo,Wl,X,Io,ql,zo,Wo,Rl,Y,qo,Tl,Ro,$a;return el=new Ki({props:{src:"https://uneorange.oss-cn-guangzhou.aliyuncs.com/202202151120134.png"}}),ml=new Ki({props:{src:"https://uneorange.oss-cn-guangzhou.aliyuncs.com/202202151243869.png"}}),{c(){d=o("p"),h=f("系统：ubuntn 20.04"),b=c(),D=o("p"),u=f("参考："),_=c(),y=o("ul"),Le=o("li"),P=o("a"),Oa=f("用 Nginx 反代实现 docker 安装 WordPress 与其他服务并存 – 沉默之沙"),Ba=c(),Ne=o("li"),S=o("a"),Za=f("RSS | RSSHub 搭配 Miniflux，实现订阅自由"),Ps=c(),Q=o("p"),ja=f("Halo 官网："),$=o("a"),Va=f("Halo"),Ss=c(),C=o("p"),Xa=f("建议大家先去"),L=o("a"),Ya=f("Halo 官网主题仓库"),Ka=f("看看有没有喜欢的主题再决定要不要装，不然很可能像我一样装了之后又跑路了…… ^^"),$s=c(),G=o("h2"),Ol=o("a"),Qa=f("准备"),Cs=c(),J=o("h3"),Bl=o("a"),Ga=f("解析域名"),Ls=c(),N=o("p"),Ja=f("域名生效需要时间，为了避免申请 SSL 证书时屡次失败导致超过申请次数限制，最好提前添加域名解析"),Zl=o("sup"),g=o("a"),ga=f("1"),lt=f("，我这里用的是子域名。"),Ns=c(),ll=o("p"),et=f(`为域名添加一个 A 记录，指向服务器所在 IP。如 Namesile 中：
`),Go(el.$$.fragment),Us=c(),sl=o("h3"),jl=o("a"),st=f("安装 docker"),Is=c(),U=o("p"),at=f("在 Ubuntu 中安装 docker"),Vl=o("sup"),al=o("a"),tt=f("2"),ot=f("："),zs=c(),Ue=new v(!1),Ie=c(),I=o("p"),rt=f("其他系统可参考："),z=o("a"),it=f("Plume | 利用 Docker-compose 搭建 Fedi 开源博客平台 – Zoe’s Dumpster."),pt=f("中的安装方式，或者查看官方文档。有的 VPS 在装系统的时候也可以预装 docker，如 vultr/contabo 都有，不过 docker-compose 就需要自己装（这里似乎没有用到 docker-compose。"),Ws=c(),Xl=o("p"),ft=f("检查是否装好，有版本就装好了："),qs=c(),ze=new v(!1),We=c(),tl=o("h3"),Yl=o("a"),nt=f("检查端口开放情况"),Rs=c(),ol=o("p"),ct=f("参考："),W=o("a"),Ft=f("Ubuntu20.04 开放指定端口_哈-CSDN 博客"),Ts=c(),Kl=o("p"),dt=f("我不太懂端口是怎么开放的，自动开放还是用了就开放。这里用的是 ufw 来设置防火墙开放端口，用 netstat 查看端口占用状况。"),Ms=c(),q=o("p"),ut=f("Debian/Ubuntu 中安装 netstat"),Ql=o("sup"),rl=o("a"),vt=f("3"),Et=f("："),Os=c(),qe=new v(!1),Re=c(),Gl=o("p"),_t=f("检查端口占用："),Bs=c(),Te=new v(!1),Me=c(),R=o("p"),yt=f("ufw 是 Ubuntu20.04 系统预装的 "),Jl=o("sup"),il=o("a"),mt=f("3"),ht=f("，如未安装上，可以这样安装："),Zs=c(),Oe=new v(!1),Be=c(),gl=o("p"),bt=f("常用操作："),js=c(),Ze=new v(!1),je=c(),le=o("p"),Dt=f("打开防火墙之前最好打开常用的端口，如 22，不然可能会连不上服务器。"),Vs=c(),pl=o("h2"),ee=o("a"),kt=f("安装 Halo"),Xs=c(),fl=o("p"),wt=f("参考："),T=o("a"),At=f("使用 Docker 部署 Halo | Halo Documents"),Ys=c(),nl=o("h3"),se=o("a"),xt=f("1.创建工作目录"),Ks=c(),ae=o("p"),Ht=f("创建一个文件夹存放 Halo，我这里命名为.halo，当然也可以叫其他的。"),Qs=c(),Ve=new v(!1),Xe=c(),cl=o("h3"),te=o("a"),Pt=f("2.下载示例配置文件到工作目录"),Gs=c(),Ye=new v(!1),Ke=c(),Fl=o("h3"),oe=o("a"),St=f("3. 编辑配置文件，配置数据库或者端口"),Js=c(),re=o("p"),$t=f("我不会用 vim 命令，所以这里用 nano 编辑"),gs=c(),dl=o("h4"),ie=o("a"),Ct=f("打开配置文件 application.yaml"),la=c(),Qe=new v(!1),Ge=c(),ul=o("h4"),pe=o("a"),Lt=f("修改配置"),ea=c(),vl=o("p"),M=o("a"),Nt=f("配置参考 | Halo Documents"),Ut=f(`
这里已经有刚下载好的配置文件了，我们可以根据自己的需要修改，Halo 数据库支持 H2 和 Mysql 数据库，因为我已经安装了一个 Wordpress 博客占用了 Mysql 数据库，虽然不知道有无影响，但为了避免出错，最后选择了按示例里的配置，使用 H2 数据库（主要还是懒得改`),sa=c(),fe=o("p"),It=f("我这里将端口放到 8090，因为原 80 端口已经被占用，大家可以选择其他开放端口，注意修改数据库用户名和密码。"),aa=c(),Je=new v(!1),ge=c(),El=o("h3"),ne=o("a"),zt=f("4. 拉取最新的 Halo 镜像"),ta=c(),ls=new v(!1),es=c(),_l=o("h3"),ce=o("a"),Wt=f("5. 创建容器"),oa=c(),ss=new v(!1),as=c(),yl=o("h3"),Fe=o("a"),qt=f("6. 打开安装引导界面。"),ra=c(),A=o("p"),Rt=f("访问 "),ts=o("code"),Tt=f("http://服务器ip:端口号"),Mt=c(),Go(ml.$$.fragment),ia=c(),hl=o("h2"),de=o("a"),Ot=f("用 Nginx 反代"),pa=c(),k=o("p"),Bt=f("说实话，我现在还没懂 Nginx 是干嘛的，反代又是什么，但好像一般都要有，那就做一下吧。幸好 Halo 还有现成的配置"),ue=o("sup"),bl=o("a"),Zt=f("4"),jt=f("可以抄一下，结合云五的 Wordpress 搭建教程"),ve=o("sup"),Dl=o("a"),Vt=f("2"),Xt=f("，把里面 wordpress 的部分改为 halo 就可以了。"),fa=c(),kl=o("h3"),Ee=o("a"),Yt=f("1.安装 Nginx"),na=c(),os=new v(!1),rs=c(),wl=o("h3"),_e=o("a"),Kt=f("2.配置 halo.conf"),ca=c(),O=o("p"),Qt=f("注意修改"),is=o("code"),Gt=f("www.yourdomain.com"),Jt=f(" 为自己的域名"),Fa=c(),ps=new v(!1),fs=c(),w=o("p"),gt=f("用"),ns=o("code"),lo=f("nginx -t"),eo=f("测试配置文件，如果最后有出现"),cs=o("code"),so=f("suceessful"),ao=f(" ，那测试就成功了。"),da=c(),ye=o("p"),to=f("然后为这个配置文件增加一个链接"),ua=c(),Fs=new v(!1),ds=c(),Al=o("h3"),me=o("a"),oo=f("3.重启 nginx"),va=c(),us=new v(!1),vs=c(),xl=o("p"),ro=f("现在访问域名就可以到达 halo 博客主页了，如果不行，可以 ping 一下域名看是不是解析还没生效：如 "),Es=o("code"),io=f("ping exampl.com"),Ea=c(),he=o("p"),po=f("我这里出现一个问题，是输入域名后到了我的 miniflux 主页，因为 halo.conf 里域名后缀输错了……"),_a=c(),Hl=o("h2"),be=o("a"),fo=f("安装 certbot，为域名获取免费 SSL 证书"),ya=c(),De=o("p"),no=f("有 ssl 证书后，就不会被提示网站不安全了，也就是从 http->https"),ma=c(),Pl=o("h3"),ke=o("a"),co=f("1.安装 certbot"),ha=c(),_s=new v(!1),ys=c(),Sl=o("h3"),we=o("a"),Fo=f("2.配置证书"),ba=c(),Ae=o("p"),uo=f("修改 example.com 为自己的域名："),Da=c(),ms=new v(!1),hs=c(),x=o("p"),vo=f("如果你不确定是否可以申请成功，或者还在修改/测试配置，可以在后面加"),bs=o("code"),Eo=f("--staging"),_o=f(" 测试，避免申请超过次数限制"),xe=o("sup"),$l=o("a"),yo=f("1"),ka=c(),He=o("p"),mo=f("一些选项，这里最好选择 1，如果选择 2，就没办法用 http 访问域名了："),wa=c(),Ds=new v(!1),ks=c(),B=o("p"),ho=f("然后同意条款后问是否暴露邮箱时选 No"),Pe=o("sup"),Cl=o("a"),bo=f("2"),Do=f("。"),Aa=c(),Ll=o("h2"),Se=o("a"),ko=f("其他"),xa=c(),Z=o("ul"),ws=o("li"),wo=f("主题编辑：首页 / 外观 / 主题编辑 里修改具体文件"),Ao=c(),As=o("li"),xo=f("进入后台：域名后面加/admin，如：https://yourdomain/admin"),Ha=c(),Pa=o("hr"),Sa=c(),H=o("div"),Ho=o("hr"),Po=c(),m=o("ol"),Nl=o("li"),j=o("a"),So=f("WordPress + VPS 建站教程 - 少数派"),Ul=o("a"),$o=f("↩"),Co=c(),Il=o("li"),V=o("a"),Lo=f("用 Nginx 反代实现 docker 安装 WordPress 与其他服务并存 – 沉默之沙"),zl=o("a"),No=f("↩"),Uo=c(),Wl=o("li"),X=o("a"),Io=f("如何在 Linux 中安装 netstat 命令 - 云+社区 - 腾讯云"),ql=o("a"),zo=f("↩"),Wo=c(),Rl=o("li"),Y=o("a"),qo=f("使用 Docker 部署 Halo | Halo Documents"),Tl=o("a"),Ro=f("↩"),this.h()},l(l){d=r(l,"P",{});var a=i(d);h=n(a,"系统：ubuntn 20.04"),a.forEach(e),b=F(l),D=r(l,"P",{});var ar=i(D);u=n(ar,"参考："),ar.forEach(e),_=F(l),y=r(l,"UL",{});var Ca=i(y);Le=r(Ca,"LI",{});var tr=i(Le);P=r(tr,"A",{href:!0,rel:!0,target:!0});var or=i(P);Oa=n(or,"用 Nginx 反代实现 docker 安装 WordPress 与其他服务并存 – 沉默之沙"),or.forEach(e),tr.forEach(e),Ba=F(Ca),Ne=r(Ca,"LI",{});var rr=i(Ne);S=r(rr,"A",{href:!0,rel:!0,target:!0});var ir=i(S);Za=n(ir,"RSS | RSSHub 搭配 Miniflux，实现订阅自由"),ir.forEach(e),rr.forEach(e),Ca.forEach(e),Ps=F(l),Q=r(l,"P",{});var To=i(Q);ja=n(To,"Halo 官网："),$=r(To,"A",{href:!0,rel:!0,target:!0});var pr=i($);Va=n(pr,"Halo"),pr.forEach(e),To.forEach(e),Ss=F(l),C=r(l,"P",{});var La=i(C);Xa=n(La,"建议大家先去"),L=r(La,"A",{href:!0,rel:!0,target:!0});var fr=i(L);Ya=n(fr,"Halo 官网主题仓库"),fr.forEach(e),Ka=n(La,"看看有没有喜欢的主题再决定要不要装，不然很可能像我一样装了之后又跑路了…… ^^"),La.forEach(e),$s=F(l),G=r(l,"H2",{id:!0});var nr=i(G);Ol=r(nr,"A",{href:!0});var cr=i(Ol);Qa=n(cr,"准备"),cr.forEach(e),nr.forEach(e),Cs=F(l),J=r(l,"H3",{id:!0});var Fr=i(J);Bl=r(Fr,"A",{href:!0});var dr=i(Bl);Ga=n(dr,"解析域名"),dr.forEach(e),Fr.forEach(e),Ls=F(l),N=r(l,"P",{});var Na=i(N);Ja=n(Na,"域名生效需要时间，为了避免申请 SSL 证书时屡次失败导致超过申请次数限制，最好提前添加域名解析"),Zl=r(Na,"SUP",{id:!0});var ur=i(Zl);g=r(ur,"A",{href:!0,class:!0});var vr=i(g);ga=n(vr,"1"),vr.forEach(e),ur.forEach(e),lt=n(Na,"，我这里用的是子域名。"),Na.forEach(e),Ns=F(l),ll=r(l,"P",{});var Mo=i(ll);et=n(Mo,`为域名添加一个 A 记录，指向服务器所在 IP。如 Namesile 中：
`),Jo(el.$$.fragment,Mo),Mo.forEach(e),Us=F(l),sl=r(l,"H3",{id:!0});var Er=i(sl);jl=r(Er,"A",{href:!0});var _r=i(jl);st=n(_r,"安装 docker"),_r.forEach(e),Er.forEach(e),Is=F(l),U=r(l,"P",{});var Ua=i(U);at=n(Ua,"在 Ubuntu 中安装 docker"),Vl=r(Ua,"SUP",{id:!0});var yr=i(Vl);al=r(yr,"A",{href:!0,class:!0});var mr=i(al);tt=n(mr,"2"),mr.forEach(e),yr.forEach(e),ot=n(Ua,"："),Ua.forEach(e),zs=F(l),Ue=E(l,!1),Ie=F(l),I=r(l,"P",{});var Ia=i(I);rt=n(Ia,"其他系统可参考："),z=r(Ia,"A",{href:!0,rel:!0,target:!0});var hr=i(z);it=n(hr,"Plume | 利用 Docker-compose 搭建 Fedi 开源博客平台 – Zoe’s Dumpster."),hr.forEach(e),pt=n(Ia,"中的安装方式，或者查看官方文档。有的 VPS 在装系统的时候也可以预装 docker，如 vultr/contabo 都有，不过 docker-compose 就需要自己装（这里似乎没有用到 docker-compose。"),Ia.forEach(e),Ws=F(l),Xl=r(l,"P",{});var br=i(Xl);ft=n(br,"检查是否装好，有版本就装好了："),br.forEach(e),qs=F(l),ze=E(l,!1),We=F(l),tl=r(l,"H3",{id:!0});var Dr=i(tl);Yl=r(Dr,"A",{href:!0});var kr=i(Yl);nt=n(kr,"检查端口开放情况"),kr.forEach(e),Dr.forEach(e),Rs=F(l),ol=r(l,"P",{});var Oo=i(ol);ct=n(Oo,"参考："),W=r(Oo,"A",{href:!0,rel:!0,target:!0});var wr=i(W);Ft=n(wr,"Ubuntu20.04 开放指定端口_哈-CSDN 博客"),wr.forEach(e),Oo.forEach(e),Ts=F(l),Kl=r(l,"P",{});var Ar=i(Kl);dt=n(Ar,"我不太懂端口是怎么开放的，自动开放还是用了就开放。这里用的是 ufw 来设置防火墙开放端口，用 netstat 查看端口占用状况。"),Ar.forEach(e),Ms=F(l),q=r(l,"P",{});var za=i(q);ut=n(za,"Debian/Ubuntu 中安装 netstat"),Ql=r(za,"SUP",{id:!0});var xr=i(Ql);rl=r(xr,"A",{href:!0,class:!0});var Hr=i(rl);vt=n(Hr,"3"),Hr.forEach(e),xr.forEach(e),Et=n(za,"："),za.forEach(e),Os=F(l),qe=E(l,!1),Re=F(l),Gl=r(l,"P",{});var Pr=i(Gl);_t=n(Pr,"检查端口占用："),Pr.forEach(e),Bs=F(l),Te=E(l,!1),Me=F(l),R=r(l,"P",{});var Wa=i(R);yt=n(Wa,"ufw 是 Ubuntu20.04 系统预装的 "),Jl=r(Wa,"SUP",{id:!0});var Sr=i(Jl);il=r(Sr,"A",{href:!0,class:!0});var $r=i(il);mt=n($r,"3"),$r.forEach(e),Sr.forEach(e),ht=n(Wa,"，如未安装上，可以这样安装："),Wa.forEach(e),Zs=F(l),Oe=E(l,!1),Be=F(l),gl=r(l,"P",{});var Cr=i(gl);bt=n(Cr,"常用操作："),Cr.forEach(e),js=F(l),Ze=E(l,!1),je=F(l),le=r(l,"P",{});var Lr=i(le);Dt=n(Lr,"打开防火墙之前最好打开常用的端口，如 22，不然可能会连不上服务器。"),Lr.forEach(e),Vs=F(l),pl=r(l,"H2",{id:!0});var Nr=i(pl);ee=r(Nr,"A",{href:!0});var Ur=i(ee);kt=n(Ur,"安装 Halo"),Ur.forEach(e),Nr.forEach(e),Xs=F(l),fl=r(l,"P",{});var Bo=i(fl);wt=n(Bo,"参考："),T=r(Bo,"A",{href:!0,rel:!0,target:!0});var Ir=i(T);At=n(Ir,"使用 Docker 部署 Halo | Halo Documents"),Ir.forEach(e),Bo.forEach(e),Ys=F(l),nl=r(l,"H3",{id:!0});var zr=i(nl);se=r(zr,"A",{href:!0});var Wr=i(se);xt=n(Wr,"1.创建工作目录"),Wr.forEach(e),zr.forEach(e),Ks=F(l),ae=r(l,"P",{});var qr=i(ae);Ht=n(qr,"创建一个文件夹存放 Halo，我这里命名为.halo，当然也可以叫其他的。"),qr.forEach(e),Qs=F(l),Ve=E(l,!1),Xe=F(l),cl=r(l,"H3",{id:!0});var Rr=i(cl);te=r(Rr,"A",{href:!0});var Tr=i(te);Pt=n(Tr,"2.下载示例配置文件到工作目录"),Tr.forEach(e),Rr.forEach(e),Gs=F(l),Ye=E(l,!1),Ke=F(l),Fl=r(l,"H3",{id:!0});var Mr=i(Fl);oe=r(Mr,"A",{href:!0});var Or=i(oe);St=n(Or,"3. 编辑配置文件，配置数据库或者端口"),Or.forEach(e),Mr.forEach(e),Js=F(l),re=r(l,"P",{});var Br=i(re);$t=n(Br,"我不会用 vim 命令，所以这里用 nano 编辑"),Br.forEach(e),gs=F(l),dl=r(l,"H4",{id:!0});var Zr=i(dl);ie=r(Zr,"A",{href:!0});var jr=i(ie);Ct=n(jr,"打开配置文件 application.yaml"),jr.forEach(e),Zr.forEach(e),la=F(l),Qe=E(l,!1),Ge=F(l),ul=r(l,"H4",{id:!0});var Vr=i(ul);pe=r(Vr,"A",{href:!0});var Xr=i(pe);Lt=n(Xr,"修改配置"),Xr.forEach(e),Vr.forEach(e),ea=F(l),vl=r(l,"P",{});var Zo=i(vl);M=r(Zo,"A",{href:!0,rel:!0,target:!0});var Yr=i(M);Nt=n(Yr,"配置参考 | Halo Documents"),Yr.forEach(e),Ut=n(Zo,`
这里已经有刚下载好的配置文件了，我们可以根据自己的需要修改，Halo 数据库支持 H2 和 Mysql 数据库，因为我已经安装了一个 Wordpress 博客占用了 Mysql 数据库，虽然不知道有无影响，但为了避免出错，最后选择了按示例里的配置，使用 H2 数据库（主要还是懒得改`),Zo.forEach(e),sa=F(l),fe=r(l,"P",{});var Kr=i(fe);It=n(Kr,"我这里将端口放到 8090，因为原 80 端口已经被占用，大家可以选择其他开放端口，注意修改数据库用户名和密码。"),Kr.forEach(e),aa=F(l),Je=E(l,!1),ge=F(l),El=r(l,"H3",{id:!0});var Qr=i(El);ne=r(Qr,"A",{href:!0});var Gr=i(ne);zt=n(Gr,"4. 拉取最新的 Halo 镜像"),Gr.forEach(e),Qr.forEach(e),ta=F(l),ls=E(l,!1),es=F(l),_l=r(l,"H3",{id:!0});var Jr=i(_l);ce=r(Jr,"A",{href:!0});var gr=i(ce);Wt=n(gr,"5. 创建容器"),gr.forEach(e),Jr.forEach(e),oa=F(l),ss=E(l,!1),as=F(l),yl=r(l,"H3",{id:!0});var li=i(yl);Fe=r(li,"A",{href:!0});var ei=i(Fe);qt=n(ei,"6. 打开安装引导界面。"),ei.forEach(e),li.forEach(e),ra=F(l),A=r(l,"P",{});var xs=i(A);Rt=n(xs,"访问 "),ts=r(xs,"CODE",{});var si=i(ts);Tt=n(si,"http://服务器ip:端口号"),si.forEach(e),Mt=F(xs),Jo(ml.$$.fragment,xs),xs.forEach(e),ia=F(l),hl=r(l,"H2",{id:!0});var ai=i(hl);de=r(ai,"A",{href:!0});var ti=i(de);Ot=n(ti,"用 Nginx 反代"),ti.forEach(e),ai.forEach(e),pa=F(l),k=r(l,"P",{});var $e=i(k);Bt=n($e,"说实话，我现在还没懂 Nginx 是干嘛的，反代又是什么，但好像一般都要有，那就做一下吧。幸好 Halo 还有现成的配置"),ue=r($e,"SUP",{id:!0});var oi=i(ue);bl=r(oi,"A",{href:!0,class:!0});var ri=i(bl);Zt=n(ri,"4"),ri.forEach(e),oi.forEach(e),jt=n($e,"可以抄一下，结合云五的 Wordpress 搭建教程"),ve=r($e,"SUP",{id:!0});var ii=i(ve);Dl=r(ii,"A",{href:!0,class:!0});var pi=i(Dl);Vt=n(pi,"2"),pi.forEach(e),ii.forEach(e),Xt=n($e,"，把里面 wordpress 的部分改为 halo 就可以了。"),$e.forEach(e),fa=F(l),kl=r(l,"H3",{id:!0});var fi=i(kl);Ee=r(fi,"A",{href:!0});var ni=i(Ee);Yt=n(ni,"1.安装 Nginx"),ni.forEach(e),fi.forEach(e),na=F(l),os=E(l,!1),rs=F(l),wl=r(l,"H3",{id:!0});var ci=i(wl);_e=r(ci,"A",{href:!0});var Fi=i(_e);Kt=n(Fi,"2.配置 halo.conf"),Fi.forEach(e),ci.forEach(e),ca=F(l),O=r(l,"P",{});var qa=i(O);Qt=n(qa,"注意修改"),is=r(qa,"CODE",{});var di=i(is);Gt=n(di,"www.yourdomain.com"),di.forEach(e),Jt=n(qa," 为自己的域名"),qa.forEach(e),Fa=F(l),ps=E(l,!1),fs=F(l),w=r(l,"P",{});var Ce=i(w);gt=n(Ce,"用"),ns=r(Ce,"CODE",{});var ui=i(ns);lo=n(ui,"nginx -t"),ui.forEach(e),eo=n(Ce,"测试配置文件，如果最后有出现"),cs=r(Ce,"CODE",{});var vi=i(cs);so=n(vi,"suceessful"),vi.forEach(e),ao=n(Ce," ，那测试就成功了。"),Ce.forEach(e),da=F(l),ye=r(l,"P",{});var Ei=i(ye);to=n(Ei,"然后为这个配置文件增加一个链接"),Ei.forEach(e),ua=F(l),Fs=E(l,!1),ds=F(l),Al=r(l,"H3",{id:!0});var _i=i(Al);me=r(_i,"A",{href:!0});var yi=i(me);oo=n(yi,"3.重启 nginx"),yi.forEach(e),_i.forEach(e),va=F(l),us=E(l,!1),vs=F(l),xl=r(l,"P",{});var jo=i(xl);ro=n(jo,"现在访问域名就可以到达 halo 博客主页了，如果不行，可以 ping 一下域名看是不是解析还没生效：如 "),Es=r(jo,"CODE",{});var mi=i(Es);io=n(mi,"ping exampl.com"),mi.forEach(e),jo.forEach(e),Ea=F(l),he=r(l,"P",{});var hi=i(he);po=n(hi,"我这里出现一个问题，是输入域名后到了我的 miniflux 主页，因为 halo.conf 里域名后缀输错了……"),hi.forEach(e),_a=F(l),Hl=r(l,"H2",{id:!0});var bi=i(Hl);be=r(bi,"A",{href:!0});var Di=i(be);fo=n(Di,"安装 certbot，为域名获取免费 SSL 证书"),Di.forEach(e),bi.forEach(e),ya=F(l),De=r(l,"P",{});var ki=i(De);no=n(ki,"有 ssl 证书后，就不会被提示网站不安全了，也就是从 http->https"),ki.forEach(e),ma=F(l),Pl=r(l,"H3",{id:!0});var wi=i(Pl);ke=r(wi,"A",{href:!0});var Ai=i(ke);co=n(Ai,"1.安装 certbot"),Ai.forEach(e),wi.forEach(e),ha=F(l),_s=E(l,!1),ys=F(l),Sl=r(l,"H3",{id:!0});var xi=i(Sl);we=r(xi,"A",{href:!0});var Hi=i(we);Fo=n(Hi,"2.配置证书"),Hi.forEach(e),xi.forEach(e),ba=F(l),Ae=r(l,"P",{});var Pi=i(Ae);uo=n(Pi,"修改 example.com 为自己的域名："),Pi.forEach(e),Da=F(l),ms=E(l,!1),hs=F(l),x=r(l,"P",{});var Hs=i(x);vo=n(Hs,"如果你不确定是否可以申请成功，或者还在修改/测试配置，可以在后面加"),bs=r(Hs,"CODE",{});var Si=i(bs);Eo=n(Si,"--staging"),Si.forEach(e),_o=n(Hs," 测试，避免申请超过次数限制"),xe=r(Hs,"SUP",{id:!0});var $i=i(xe);$l=r($i,"A",{href:!0,class:!0});var Ci=i($l);yo=n(Ci,"1"),Ci.forEach(e),$i.forEach(e),Hs.forEach(e),ka=F(l),He=r(l,"P",{});var Li=i(He);mo=n(Li,"一些选项，这里最好选择 1，如果选择 2，就没办法用 http 访问域名了："),Li.forEach(e),wa=F(l),Ds=E(l,!1),ks=F(l),B=r(l,"P",{});var Ra=i(B);ho=n(Ra,"然后同意条款后问是否暴露邮箱时选 No"),Pe=r(Ra,"SUP",{id:!0});var Ni=i(Pe);Cl=r(Ni,"A",{href:!0,class:!0});var Ui=i(Cl);bo=n(Ui,"2"),Ui.forEach(e),Ni.forEach(e),Do=n(Ra,"。"),Ra.forEach(e),Aa=F(l),Ll=r(l,"H2",{id:!0});var Ii=i(Ll);Se=r(Ii,"A",{href:!0});var zi=i(Se);ko=n(zi,"其他"),zi.forEach(e),Ii.forEach(e),xa=F(l),Z=r(l,"UL",{});var Ta=i(Z);ws=r(Ta,"LI",{});var Wi=i(ws);wo=n(Wi,"主题编辑：首页 / 外观 / 主题编辑 里修改具体文件"),Wi.forEach(e),Ao=F(Ta),As=r(Ta,"LI",{});var qi=i(As);xo=n(qi,"进入后台：域名后面加/admin，如：https://yourdomain/admin"),qi.forEach(e),Ta.forEach(e),Ha=F(l),Pa=r(l,"HR",{}),Sa=F(l),H=r(l,"DIV",{class:!0});var Ma=i(H);Ho=r(Ma,"HR",{}),Po=F(Ma),m=r(Ma,"OL",{});var K=i(m);Nl=r(K,"LI",{id:!0});var Vo=i(Nl);j=r(Vo,"A",{href:!0,rel:!0,target:!0});var Ri=i(j);So=n(Ri,"WordPress + VPS 建站教程 - 少数派"),Ri.forEach(e),Ul=r(Vo,"A",{href:!0,class:!0});var Ti=i(Ul);$o=n(Ti,"↩"),Ti.forEach(e),Vo.forEach(e),Co=F(K),Il=r(K,"LI",{id:!0});var Xo=i(Il);V=r(Xo,"A",{href:!0,rel:!0,target:!0});var Mi=i(V);Lo=n(Mi,"用 Nginx 反代实现 docker 安装 WordPress 与其他服务并存 – 沉默之沙"),Mi.forEach(e),zl=r(Xo,"A",{href:!0,class:!0});var Oi=i(zl);No=n(Oi,"↩"),Oi.forEach(e),Xo.forEach(e),Uo=F(K),Wl=r(K,"LI",{id:!0});var Yo=i(Wl);X=r(Yo,"A",{href:!0,rel:!0,target:!0});var Bi=i(X);Io=n(Bi,"如何在 Linux 中安装 netstat 命令 - 云+社区 - 腾讯云"),Bi.forEach(e),ql=r(Yo,"A",{href:!0,class:!0});var Zi=i(ql);zo=n(Zi,"↩"),Zi.forEach(e),Yo.forEach(e),Wo=F(K),Rl=r(K,"LI",{id:!0});var Ko=i(Rl);Y=r(Ko,"A",{href:!0,rel:!0,target:!0});var ji=i(Y);qo=n(ji,"使用 Docker 部署 Halo | Halo Documents"),ji.forEach(e),Tl=r(Ko,"A",{href:!0,class:!0});var Vi=i(Tl);Ro=n(Vi,"↩"),Vi.forEach(e),Ko.forEach(e),K.forEach(e),Ma.forEach(e),this.h()},h(){p(P,"href","https://yukieyun.net/tech/shared-service-same-server-wordpress/"),p(P,"rel","nofollow noopener noreferrer external"),p(P,"target","_blank"),p(S,"href","https://mantyke.icu/2021/rsshub-miniflux/"),p(S,"rel","nofollow noopener noreferrer external"),p(S,"target","_blank"),p($,"href","https://halo.run/#quickstart"),p($,"rel","nofollow noopener noreferrer external"),p($,"target","_blank"),p(L,"href","https://halo.run/themes.html"),p(L,"rel","nofollow noopener noreferrer external"),p(L,"target","_blank"),p(Ol,"href","#准备"),p(G,"id","准备"),p(Bl,"href","#解析域名"),p(J,"id","解析域名"),p(g,"href","#fn-1"),p(g,"class","footnote-ref"),p(Zl,"id","fnref-1"),p(jl,"href","#安装-docker"),p(sl,"id","安装-docker"),p(al,"href","#fn-2"),p(al,"class","footnote-ref"),p(Vl,"id","fnref-2"),Ue.a=Ie,p(z,"href","https://blog.tantalum.life/posts/build-plume-in-docker/#%E5%AE%89%E8%A3%85dockerdocker-compose"),p(z,"rel","nofollow noopener noreferrer external"),p(z,"target","_blank"),ze.a=We,p(Yl,"href","#检查端口开放情况"),p(tl,"id","检查端口开放情况"),p(W,"href","https://blog.csdn.net/lianghecai52171314/article/details/113813826"),p(W,"rel","nofollow noopener noreferrer external"),p(W,"target","_blank"),p(rl,"href","#fn-3"),p(rl,"class","footnote-ref"),p(Ql,"id","fnref-3"),qe.a=Re,Te.a=Me,p(il,"href","#fn-3"),p(il,"class","footnote-ref"),p(Jl,"id","fnref-3"),Oe.a=Be,Ze.a=je,p(ee,"href","#安装-halo"),p(pl,"id","安装-halo"),p(T,"href","https://docs.halo.run/getting-started/install/docker"),p(T,"rel","nofollow noopener noreferrer external"),p(T,"target","_blank"),p(se,"href","#1创建工作目录"),p(nl,"id","1创建工作目录"),Ve.a=Xe,p(te,"href","#2下载示例配置文件到工作目录"),p(cl,"id","2下载示例配置文件到工作目录"),Ye.a=Ke,p(oe,"href","#3-编辑配置文件配置数据库或者端口"),p(Fl,"id","3-编辑配置文件配置数据库或者端口"),p(ie,"href","#打开配置文件-applicationyaml"),p(dl,"id","打开配置文件-applicationyaml"),Qe.a=Ge,p(pe,"href","#修改配置"),p(ul,"id","修改配置"),p(M,"href","https://docs.halo.run/getting-started/config"),p(M,"rel","nofollow noopener noreferrer external"),p(M,"target","_blank"),Je.a=ge,p(ne,"href","#4-拉取最新的-halo-镜像"),p(El,"id","4-拉取最新的-halo-镜像"),ls.a=es,p(ce,"href","#5-创建容器"),p(_l,"id","5-创建容器"),ss.a=as,p(Fe,"href","#6-打开安装引导界面"),p(yl,"id","6-打开安装引导界面"),p(de,"href","#用-nginx-反代"),p(hl,"id","用-nginx-反代"),p(bl,"href","#fn-4"),p(bl,"class","footnote-ref"),p(ue,"id","fnref-4"),p(Dl,"href","#fn-2"),p(Dl,"class","footnote-ref"),p(ve,"id","fnref-2"),p(Ee,"href","#1安装-nginx"),p(kl,"id","1安装-nginx"),os.a=rs,p(_e,"href","#2配置-haloconf"),p(wl,"id","2配置-haloconf"),ps.a=fs,Fs.a=ds,p(me,"href","#3重启-nginx"),p(Al,"id","3重启-nginx"),us.a=vs,p(be,"href","#安装-certbot为域名获取免费-ssl-证书"),p(Hl,"id","安装-certbot为域名获取免费-ssl-证书"),p(ke,"href","#1安装-certbot"),p(Pl,"id","1安装-certbot"),_s.a=ys,p(we,"href","#2配置证书"),p(Sl,"id","2配置证书"),ms.a=hs,p($l,"href","#fn-1"),p($l,"class","footnote-ref"),p(xe,"id","fnref-1"),Ds.a=ks,p(Cl,"href","#fn-2"),p(Cl,"class","footnote-ref"),p(Pe,"id","fnref-2"),p(Se,"href","#其他"),p(Ll,"id","其他"),p(j,"href","https://sspai.com/post/66447#:~:text=sudo%20swapon%20/swapfile-,SSL%20%E8%B6%85%E8%BF%87%E4%BD%BF%E7%94%A8%E9%A2%91%E7%8E%87%E9%99%90%E9%A2%9D,-%E6%98%AF%E7%9A%84%EF%BC%8C%E5%85%8D%E8%B4%B9"),p(j,"rel","nofollow noopener noreferrer external"),p(j,"target","_blank"),p(Ul,"href","#fnref-1"),p(Ul,"class","footnote-backref"),p(Nl,"id","fn-1"),p(V,"href","https://yukieyun.net/tech/shared-service-same-server-wordpress/"),p(V,"rel","nofollow noopener noreferrer external"),p(V,"target","_blank"),p(zl,"href","#fnref-2"),p(zl,"class","footnote-backref"),p(Il,"id","fn-2"),p(X,"href","https://cloud.tencent.com/developer/article/1852241"),p(X,"rel","nofollow noopener noreferrer external"),p(X,"target","_blank"),p(ql,"href","#fnref-3"),p(ql,"class","footnote-backref"),p(Wl,"id","fn-3"),p(Y,"href","https://docs.halo.run/getting-started/install/docker#nginx"),p(Y,"rel","nofollow noopener noreferrer external"),p(Y,"target","_blank"),p(Tl,"href","#fnref-4"),p(Tl,"class","footnote-backref"),p(Rl,"id","fn-4"),p(H,"class","footnotes")},m(l,a){t(l,d,a),s(d,h),t(l,b,a),t(l,D,a),s(D,u),t(l,_,a),t(l,y,a),s(y,Le),s(Le,P),s(P,Oa),s(y,Ba),s(y,Ne),s(Ne,S),s(S,Za),t(l,Ps,a),t(l,Q,a),s(Q,ja),s(Q,$),s($,Va),t(l,Ss,a),t(l,C,a),s(C,Xa),s(C,L),s(L,Ya),s(C,Ka),t(l,$s,a),t(l,G,a),s(G,Ol),s(Ol,Qa),t(l,Cs,a),t(l,J,a),s(J,Bl),s(Bl,Ga),t(l,Ls,a),t(l,N,a),s(N,Ja),s(N,Zl),s(Zl,g),s(g,ga),s(N,lt),t(l,Ns,a),t(l,ll,a),s(ll,et),go(el,ll,null),t(l,Us,a),t(l,sl,a),s(sl,jl),s(jl,st),t(l,Is,a),t(l,U,a),s(U,at),s(U,Vl),s(Vl,al),s(al,tt),s(U,ot),t(l,zs,a),Ue.m(Gi,l,a),t(l,Ie,a),t(l,I,a),s(I,rt),s(I,z),s(z,it),s(I,pt),t(l,Ws,a),t(l,Xl,a),s(Xl,ft),t(l,qs,a),ze.m(Ji,l,a),t(l,We,a),t(l,tl,a),s(tl,Yl),s(Yl,nt),t(l,Rs,a),t(l,ol,a),s(ol,ct),s(ol,W),s(W,Ft),t(l,Ts,a),t(l,Kl,a),s(Kl,dt),t(l,Ms,a),t(l,q,a),s(q,ut),s(q,Ql),s(Ql,rl),s(rl,vt),s(q,Et),t(l,Os,a),qe.m(gi,l,a),t(l,Re,a),t(l,Gl,a),s(Gl,_t),t(l,Bs,a),Te.m(lp,l,a),t(l,Me,a),t(l,R,a),s(R,yt),s(R,Jl),s(Jl,il),s(il,mt),s(R,ht),t(l,Zs,a),Oe.m(ep,l,a),t(l,Be,a),t(l,gl,a),s(gl,bt),t(l,js,a),Ze.m(sp,l,a),t(l,je,a),t(l,le,a),s(le,Dt),t(l,Vs,a),t(l,pl,a),s(pl,ee),s(ee,kt),t(l,Xs,a),t(l,fl,a),s(fl,wt),s(fl,T),s(T,At),t(l,Ys,a),t(l,nl,a),s(nl,se),s(se,xt),t(l,Ks,a),t(l,ae,a),s(ae,Ht),t(l,Qs,a),Ve.m(ap,l,a),t(l,Xe,a),t(l,cl,a),s(cl,te),s(te,Pt),t(l,Gs,a),Ye.m(tp,l,a),t(l,Ke,a),t(l,Fl,a),s(Fl,oe),s(oe,St),t(l,Js,a),t(l,re,a),s(re,$t),t(l,gs,a),t(l,dl,a),s(dl,ie),s(ie,Ct),t(l,la,a),Qe.m(op,l,a),t(l,Ge,a),t(l,ul,a),s(ul,pe),s(pe,Lt),t(l,ea,a),t(l,vl,a),s(vl,M),s(M,Nt),s(vl,Ut),t(l,sa,a),t(l,fe,a),s(fe,It),t(l,aa,a),Je.m(rp,l,a),t(l,ge,a),t(l,El,a),s(El,ne),s(ne,zt),t(l,ta,a),ls.m(ip,l,a),t(l,es,a),t(l,_l,a),s(_l,ce),s(ce,Wt),t(l,oa,a),ss.m(pp,l,a),t(l,as,a),t(l,yl,a),s(yl,Fe),s(Fe,qt),t(l,ra,a),t(l,A,a),s(A,Rt),s(A,ts),s(ts,Tt),s(A,Mt),go(ml,A,null),t(l,ia,a),t(l,hl,a),s(hl,de),s(de,Ot),t(l,pa,a),t(l,k,a),s(k,Bt),s(k,ue),s(ue,bl),s(bl,Zt),s(k,jt),s(k,ve),s(ve,Dl),s(Dl,Vt),s(k,Xt),t(l,fa,a),t(l,kl,a),s(kl,Ee),s(Ee,Yt),t(l,na,a),os.m(fp,l,a),t(l,rs,a),t(l,wl,a),s(wl,_e),s(_e,Kt),t(l,ca,a),t(l,O,a),s(O,Qt),s(O,is),s(is,Gt),s(O,Jt),t(l,Fa,a),ps.m(np,l,a),t(l,fs,a),t(l,w,a),s(w,gt),s(w,ns),s(ns,lo),s(w,eo),s(w,cs),s(cs,so),s(w,ao),t(l,da,a),t(l,ye,a),s(ye,to),t(l,ua,a),Fs.m(cp,l,a),t(l,ds,a),t(l,Al,a),s(Al,me),s(me,oo),t(l,va,a),us.m(Fp,l,a),t(l,vs,a),t(l,xl,a),s(xl,ro),s(xl,Es),s(Es,io),t(l,Ea,a),t(l,he,a),s(he,po),t(l,_a,a),t(l,Hl,a),s(Hl,be),s(be,fo),t(l,ya,a),t(l,De,a),s(De,no),t(l,ma,a),t(l,Pl,a),s(Pl,ke),s(ke,co),t(l,ha,a),_s.m(dp,l,a),t(l,ys,a),t(l,Sl,a),s(Sl,we),s(we,Fo),t(l,ba,a),t(l,Ae,a),s(Ae,uo),t(l,Da,a),ms.m(up,l,a),t(l,hs,a),t(l,x,a),s(x,vo),s(x,bs),s(bs,Eo),s(x,_o),s(x,xe),s(xe,$l),s($l,yo),t(l,ka,a),t(l,He,a),s(He,mo),t(l,wa,a),Ds.m(vp,l,a),t(l,ks,a),t(l,B,a),s(B,ho),s(B,Pe),s(Pe,Cl),s(Cl,bo),s(B,Do),t(l,Aa,a),t(l,Ll,a),s(Ll,Se),s(Se,ko),t(l,xa,a),t(l,Z,a),s(Z,ws),s(ws,wo),s(Z,Ao),s(Z,As),s(As,xo),t(l,Ha,a),t(l,Pa,a),t(l,Sa,a),t(l,H,a),s(H,Ho),s(H,Po),s(H,m),s(m,Nl),s(Nl,j),s(j,So),s(Nl,Ul),s(Ul,$o),s(m,Co),s(m,Il),s(Il,V),s(V,Lo),s(Il,zl),s(zl,No),s(m,Uo),s(m,Wl),s(Wl,X),s(X,Io),s(Wl,ql),s(ql,zo),s(m,Wo),s(m,Rl),s(Rl,Y),s(Y,qo),s(Rl,Tl),s(Tl,Ro),$a=!0},p:hp,i(l){$a||(lr(el.$$.fragment,l),lr(ml.$$.fragment,l),$a=!0)},o(l){er(el.$$.fragment,l),er(ml.$$.fragment,l),$a=!1},d(l){l&&e(d),l&&e(b),l&&e(D),l&&e(_),l&&e(y),l&&e(Ps),l&&e(Q),l&&e(Ss),l&&e(C),l&&e($s),l&&e(G),l&&e(Cs),l&&e(J),l&&e(Ls),l&&e(N),l&&e(Ns),l&&e(ll),sr(el),l&&e(Us),l&&e(sl),l&&e(Is),l&&e(U),l&&e(zs),l&&Ue.d(),l&&e(Ie),l&&e(I),l&&e(Ws),l&&e(Xl),l&&e(qs),l&&ze.d(),l&&e(We),l&&e(tl),l&&e(Rs),l&&e(ol),l&&e(Ts),l&&e(Kl),l&&e(Ms),l&&e(q),l&&e(Os),l&&qe.d(),l&&e(Re),l&&e(Gl),l&&e(Bs),l&&Te.d(),l&&e(Me),l&&e(R),l&&e(Zs),l&&Oe.d(),l&&e(Be),l&&e(gl),l&&e(js),l&&Ze.d(),l&&e(je),l&&e(le),l&&e(Vs),l&&e(pl),l&&e(Xs),l&&e(fl),l&&e(Ys),l&&e(nl),l&&e(Ks),l&&e(ae),l&&e(Qs),l&&Ve.d(),l&&e(Xe),l&&e(cl),l&&e(Gs),l&&Ye.d(),l&&e(Ke),l&&e(Fl),l&&e(Js),l&&e(re),l&&e(gs),l&&e(dl),l&&e(la),l&&Qe.d(),l&&e(Ge),l&&e(ul),l&&e(ea),l&&e(vl),l&&e(sa),l&&e(fe),l&&e(aa),l&&Je.d(),l&&e(ge),l&&e(El),l&&e(ta),l&&ls.d(),l&&e(es),l&&e(_l),l&&e(oa),l&&ss.d(),l&&e(as),l&&e(yl),l&&e(ra),l&&e(A),sr(ml),l&&e(ia),l&&e(hl),l&&e(pa),l&&e(k),l&&e(fa),l&&e(kl),l&&e(na),l&&os.d(),l&&e(rs),l&&e(wl),l&&e(ca),l&&e(O),l&&e(Fa),l&&ps.d(),l&&e(fs),l&&e(w),l&&e(da),l&&e(ye),l&&e(ua),l&&Fs.d(),l&&e(ds),l&&e(Al),l&&e(va),l&&us.d(),l&&e(vs),l&&e(xl),l&&e(Ea),l&&e(he),l&&e(_a),l&&e(Hl),l&&e(ya),l&&e(De),l&&e(ma),l&&e(Pl),l&&e(ha),l&&_s.d(),l&&e(ys),l&&e(Sl),l&&e(ba),l&&e(Ae),l&&e(Da),l&&ms.d(),l&&e(hs),l&&e(x),l&&e(ka),l&&e(He),l&&e(wa),l&&Ds.d(),l&&e(ks),l&&e(B),l&&e(Aa),l&&e(Ll),l&&e(xa),l&&e(Z),l&&e(Ha),l&&e(Pa),l&&e(Sa),l&&e(H)}}}function kp(Ml){let d,h;const b=[Ml[0],Qi];let D={$$slots:{default:[Dp]},$$scope:{ctx:Ml}};for(let u=0;u<b.length;u+=1)D=Qo(D,b[u]);return d=new bp({props:D}),{c(){Go(d.$$.fragment)},l(u){Jo(d.$$.fragment,u)},m(u,_){go(d,u,_),h=!0},p(u,[_]){const y=_&1?mp(b,[_&1&&Xi(u[0]),_&0&&Xi(Qi)]):{};_&2&&(y.$$scope={dirty:_,ctx:u}),d.$set(y)},i(u){h||(lr(d.$$.fragment,u),h=!0)},o(u){er(d.$$.fragment,u),h=!1},d(u){sr(d,u)}}}const Qi={title:"用 docker 安装 Halo 博客",created:"2022-02-16T14:04:17.000Z",tags:["Docker","Self-host"],slug:"/halo/+page.md",summary:"",lastmod:"2022-05-07T05:39:19.169Z",flags:[],updated:"2023-06-27T08:29:02.819Z",path:"/halo",toc:[{depth:2,title:"准备",slug:"准备"},{depth:3,title:"解析域名",slug:"解析域名"},{depth:3,title:"安装 docker",slug:"安装-docker"},{depth:3,title:"检查端口开放情况",slug:"检查端口开放情况"},{depth:2,title:"安装 Halo",slug:"安装-halo"},{depth:3,title:"1.创建工作目录",slug:"1创建工作目录"},{depth:3,title:"2.下载示例配置文件到工作目录",slug:"2下载示例配置文件到工作目录"},{depth:3,title:"3. 编辑配置文件，配置数据库或者端口",slug:"3-编辑配置文件配置数据库或者端口"},{depth:4,title:"打开配置文件 application.yaml",slug:"打开配置文件-applicationyaml"},{depth:4,title:"修改配置",slug:"修改配置"},{depth:3,title:"4. 拉取最新的 Halo 镜像",slug:"4-拉取最新的-halo-镜像"},{depth:3,title:"5. 创建容器",slug:"5-创建容器"},{depth:3,title:"6. 打开安装引导界面。",slug:"6-打开安装引导界面"},{depth:2,title:"用 Nginx 反代",slug:"用-nginx-反代"},{depth:3,title:"1.安装 Nginx",slug:"1安装-nginx"},{depth:3,title:"2.配置 halo.conf",slug:"2配置-haloconf"},{depth:3,title:"3.重启 nginx",slug:"3重启-nginx"},{depth:2,title:"安装 certbot，为域名获取免费 SSL 证书",slug:"安装-certbot为域名获取免费-ssl-证书"},{depth:3,title:"1.安装 certbot",slug:"1安装-certbot"},{depth:3,title:"2.配置证书",slug:"2配置证书"},{depth:2,title:"其他",slug:"其他"}]};function wp(Ml,d,h){return Ml.$$set=b=>{h(0,d=Qo(Qo({},d),Yi(b)))},d=Yi(d),[d]}class Pp extends Ep{constructor(d){super(),_p(this,d,wp,kp,yp,{})}}export{Pp as component};
